{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoS/frontend-user/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport axios from \"../utils/axios\";\nimport { setAuth } from \"../utils/auth\";\nimport PublicLayout from \"../components/layout/PublicLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    identifier: \"\",\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const submit = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const res = await axios.post(\"/auth/login\", form);\n      setAuth(res.data);\n      toast.success(\"Login successful\");\n      navigate(\"/profile\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      toast.error(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Login failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PublicLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"single-profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"sp-title-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sp-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"sp-main-title\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"sp-subline\",\n            children: \"Access your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"sp-details\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sp-inner\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"reg-form\",\n            onSubmit: submit,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sp-card reg-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reg-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email or Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  required: true,\n                  onChange: e => setForm({\n                    ...form,\n                    identifier: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reg-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  required: true,\n                  onChange: e => setForm({\n                    ...form,\n                    password: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"reg-submit-btn\",\n                disabled: loading,\n                children: loading ? \"Logging in...\" : \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"vDd37by5ZhPIpTNCtEzk5k2J9NA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","toast","axios","setAuth","PublicLayout","jsxDEV","_jsxDEV","Login","_s","navigate","form","setForm","identifier","password","loading","setLoading","submit","e","preventDefault","res","post","data","success","err","_err$response","_err$response$data","error","response","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","required","onChange","target","value","type","disabled","_c","$RefreshReg$"],"sources":["/var/www/aayoS/frontend-user/src/pages/Login.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport axios from \"../utils/axios\";\nimport { setAuth } from \"../utils/auth\";\nimport PublicLayout from \"../components/layout/PublicLayout\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    identifier: \"\",\n    password: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  const submit = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      const res = await axios.post(\"/auth/login\", form);\n\n      setAuth(res.data);\n      toast.success(\"Login successful\");\n      navigate(\"/profile\");\n    } catch (err) {\n      toast.error(err.response?.data?.message || \"Login failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <PublicLayout>\n      <main className=\"single-profile\">\n        <section className=\"sp-title-bar\">\n          <div className=\"sp-inner\">\n            <h1 className=\"sp-main-title\">Login</h1>\n            <p className=\"sp-subline\">Access your account</p>\n          </div>\n        </section>\n\n        <section className=\"sp-details\">\n          <div className=\"sp-inner\">\n            <form className=\"reg-form\" onSubmit={submit}>\n              <div className=\"sp-card reg-card\">\n                <div className=\"reg-field\">\n                  <label>Email or Username</label>\n                  <input\n                    required\n                    onChange={(e) =>\n                      setForm({ ...form, identifier: e.target.value })\n                    }\n                  />\n                </div>\n\n                <div className=\"reg-field\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    required\n                    onChange={(e) =>\n                      setForm({ ...form, password: e.target.value })\n                    }\n                  />\n                </div>\n\n                <button className=\"reg-submit-btn\" disabled={loading}>\n                  {loading ? \"Logging in...\" : \"Login\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </section>\n      </main>\n    </PublicLayout>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}