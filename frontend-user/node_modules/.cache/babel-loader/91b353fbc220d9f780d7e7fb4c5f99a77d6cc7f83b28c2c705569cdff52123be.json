{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/FlightForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useCreateFlightMutation, useUpdateFlightMutation } from \"../../redux/api/flightApi\";\nimport { useGetFlightTypesQuery } from \"../../redux/api/flightTypeApi\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightForm = ({\n  editingFlight,\n  onSuccess\n}) => {\n  _s();\n  const [form, setForm] = useState({\n    flightType: \"\",\n    from: \"\",\n    to: \"\",\n    date: \"\",\n    time: \"\"\n  });\n  const {\n    data: flightTypes\n  } = useGetFlightTypesQuery();\n  const [createFlight] = useCreateFlightMutation();\n  const [updateFlight] = useUpdateFlightMutation();\n  useEffect(() => {\n    if (editingFlight) {\n      setForm({\n        flightType: editingFlight.flightType._id,\n        from: editingFlight.from,\n        to: editingFlight.to,\n        date: editingFlight.date.split(\"T\")[0],\n        time: editingFlight.time\n      });\n    }\n  }, [editingFlight]);\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (editingFlight) {\n        await updateFlight({\n          id: editingFlight._id,\n          data: form\n        }).unwrap();\n        toast.success(\"Flight updated\");\n      } else {\n        await createFlight(form).unwrap();\n        toast.success(\"Flight created\");\n      }\n      onSuccess();\n    } catch (err) {\n      toast.error(\"Error saving flight\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"border p-3 rounded mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [editingFlight ? \"Edit\" : \"Add\", \" Flight\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"form-select mb-2\",\n      name: \"flightType\",\n      value: form.flightType,\n      onChange: handleChange,\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Flight Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), flightTypes === null || flightTypes === void 0 ? void 0 : flightTypes.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: f._id,\n        children: f.name\n      }, f._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"from\",\n      placeholder: \"From\",\n      className: \"form-control mb-2\",\n      value: form.from,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"to\",\n      placeholder: \"To\",\n      className: \"form-control mb-2\",\n      value: form.to,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"date\",\n      className: \"form-control mb-2\",\n      value: form.date,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"time\",\n      name: \"time\",\n      className: \"form-control mb-2\",\n      value: form.time,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      children: [editingFlight ? \"Update\" : \"Add\", \" Flight\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightForm, \"ZNdNh8Q5K8X66W7HXu6rrm8PU+E=\", false, function () {\n  return [useGetFlightTypesQuery, useCreateFlightMutation, useUpdateFlightMutation];\n});\n_c = FlightForm;\nexport default FlightForm;\nvar _c;\n$RefreshReg$(_c, \"FlightForm\");","map":{"version":3,"names":["React","useEffect","useState","useCreateFlightMutation","useUpdateFlightMutation","useGetFlightTypesQuery","toast","jsxDEV","_jsxDEV","FlightForm","editingFlight","onSuccess","_s","form","setForm","flightType","from","to","date","time","data","flightTypes","createFlight","updateFlight","_id","split","handleChange","e","target","name","value","handleSubmit","preventDefault","id","unwrap","success","err","error","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","required","map","f","type","placeholder","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/FlightForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  useCreateFlightMutation,\n  useUpdateFlightMutation,\n} from \"../../redux/api/flightApi\";\nimport { useGetFlightTypesQuery } from \"../../redux/api/flightTypeApi\";\nimport toast from \"react-hot-toast\";\n\nconst FlightForm = ({ editingFlight, onSuccess }) => {\n  const [form, setForm] = useState({\n    flightType: \"\",\n    from: \"\",\n    to: \"\",\n    date: \"\",\n    time: \"\",\n  });\n\n  const { data: flightTypes } = useGetFlightTypesQuery();\n  const [createFlight] = useCreateFlightMutation();\n  const [updateFlight] = useUpdateFlightMutation();\n\n  useEffect(() => {\n    if (editingFlight) {\n      setForm({\n        flightType: editingFlight.flightType._id,\n        from: editingFlight.from,\n        to: editingFlight.to,\n        date: editingFlight.date.split(\"T\")[0],\n        time: editingFlight.time,\n      });\n    }\n  }, [editingFlight]);\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingFlight) {\n        await updateFlight({ id: editingFlight._id, data: form }).unwrap();\n        toast.success(\"Flight updated\");\n      } else {\n        await createFlight(form).unwrap();\n        toast.success(\"Flight created\");\n      }\n      onSuccess();\n    } catch (err) {\n      toast.error(\"Error saving flight\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"border p-3 rounded mt-4\">\n      <h5>{editingFlight ? \"Edit\" : \"Add\"} Flight</h5>\n      <select\n        className=\"form-select mb-2\"\n        name=\"flightType\"\n        value={form.flightType}\n        onChange={handleChange}\n        required\n      >\n        <option value=\"\">Select Flight Type</option>\n        {flightTypes?.map((f) => (\n          <option key={f._id} value={f._id}>\n            {f.name}\n          </option>\n        ))}\n      </select>\n      <input\n        type=\"text\"\n        name=\"from\"\n        placeholder=\"From\"\n        className=\"form-control mb-2\"\n        value={form.from}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"text\"\n        name=\"to\"\n        placeholder=\"To\"\n        className=\"form-control mb-2\"\n        value={form.to}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"date\"\n        name=\"date\"\n        className=\"form-control mb-2\"\n        value={form.date}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"time\"\n        name=\"time\"\n        className=\"form-control mb-2\"\n        value={form.time}\n        onChange={handleChange}\n        required\n      />\n      <button className=\"btn btn-primary\" type=\"submit\">\n        {editingFlight ? \"Update\" : \"Add\"} Flight\n      </button>\n    </form>\n  );\n};\n\nexport default FlightForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}