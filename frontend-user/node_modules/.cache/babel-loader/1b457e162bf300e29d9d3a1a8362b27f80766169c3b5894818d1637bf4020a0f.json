{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend-user/src/components/pages/OtpVerification.jsx\",\n  _s = $RefreshSig$();\nimport { useSearchParams, useNavigate, useLocation, Link } from \"react-router-dom\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useVerifyOtpMutation, useSendOtpMutation } from \"../../redux/api/authApi\";\nimport { loginSuccess } from \"../../redux/slices/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OtpVerification() {\n  _s();\n  var _location$state;\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const amount = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.amount) || 0;\n\n  // read email & phone reliably\n  const email = searchParams.get(\"email\") || undefined;\n  const phone = searchParams.get(\"phone\") || undefined;\n  const isRegistration = searchParams.get(\"isRegistration\") === \"true\";\n  const bookingParams = location.search || \"\";\n  const state = location.state || {};\n  const name = state.name || \"\";\n  const password = state.password || \"\";\n  const [otpValues, setOtpValues] = useState([\"\", \"\", \"\", \"\"]);\n  const [verifyOtp, {\n    isLoading\n  }] = useVerifyOtpMutation();\n  const [sendOtp, {\n    isLoading: resendLoading\n  }] = useSendOtpMutation();\n  const inputRefs = useRef([]);\n\n  // debug\n  useEffect(() => {\n    // helpful for debugging — remove in production\n    // eslint-disable-next-line no-console\n    console.log(\"OtpVerification: email, phone, isRegistration =>\", {\n      email,\n      phone,\n      isRegistration\n    });\n  }, [email, phone, isRegistration]);\n\n  // Determine whether navigated from booking/enquiry (safe heuristics)\n  const isFromBooking = bookingParams.includes(\"tripType\") || bookingParams.includes(\"date\") || bookingParams.includes(\"enquiry\");\n\n  // Move focus between OTP inputs\n  const handleChange = (index, value) => {\n    if (/^[0-9]?$/.test(value)) {\n      const newOtp = [...otpValues];\n      newOtp[index] = value;\n      setOtpValues(newOtp);\n      if (value && index < otpValues.length - 1) {\n        var _inputRefs$current;\n        (_inputRefs$current = inputRefs.current[index + 1]) === null || _inputRefs$current === void 0 ? void 0 : _inputRefs$current.focus();\n      }\n    }\n  };\n  const handleKeyDown = (e, index) => {\n    if (e.key === \"Backspace\" && !otpValues[index] && index > 0) {\n      var _inputRefs$current2;\n      (_inputRefs$current2 = inputRefs.current[index - 1]) === null || _inputRefs$current2 === void 0 ? void 0 : _inputRefs$current2.focus();\n    }\n  };\n\n  // Verify OTP\n  const handleVerify = async e => {\n    e.preventDefault();\n    const otp = otpValues.join(\"\");\n    if (otp.length < 4) {\n      alert(\"Please enter the 4-digit OTP\");\n      return;\n    }\n    try {\n      // send both email and phone (undefined if absent)\n      const payload = {\n        email: email || undefined,\n        phone: phone || undefined,\n        name: name || undefined,\n        password: password || undefined,\n        otp,\n        isRegistration\n      };\n\n      // debug\n      // eslint-disable-next-line no-console\n      console.log(\"Verifying OTP with payload:\", payload);\n      const res = await verifyOtp(payload).unwrap();\n\n      // login success action expects same shape as before\n      dispatch(loginSuccess(res));\n      alert(isRegistration ? \"Registration completed successfully!\" : \"OTP verified successfully!\");\n\n      // redirect to enquiry if this flow originated from booking\n      if (isFromBooking) {\n        navigate(`/enquiry${bookingParams}`, {\n          state: {\n            amount\n          }\n        });\n      } else {\n        navigate(`/`);\n      }\n    } catch (err) {\n      var _err$data;\n      alert((err === null || err === void 0 ? void 0 : (_err$data = err.data) === null || _err$data === void 0 ? void 0 : _err$data.message) || \"Invalid OTP\");\n    }\n  };\n\n  // Resend OTP — builds the same query as original send call\n  const handleResend = async () => {\n    try {\n      var _inputRefs$current$;\n      await sendOtp({\n        email,\n        phone,\n        isRegistration\n      }).unwrap();\n      alert(\"OTP resent successfully!\");\n      setOtpValues([\"\", \"\", \"\", \"\"]);\n      (_inputRefs$current$ = inputRefs.current[0]) === null || _inputRefs$current$ === void 0 ? void 0 : _inputRefs$current$.focus();\n    } catch (err) {\n      var _err$data2;\n      alert((err === null || err === void 0 ? void 0 : (_err$data2 = err.data) === null || _err$data2 === void 0 ? void 0 : _err$data2.message) || \"Failed to resend OTP\");\n    }\n  };\n  useEffect(() => {\n    var _inputRefs$current$2;\n    (_inputRefs$current$2 = inputRefs.current[0]) === null || _inputRefs$current$2 === void 0 ? void 0 : _inputRefs$current$2.focus();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-sec-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-sec-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Fly Beyond Limits \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }, this), \" with Aayo\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Travel is the only purchase that enriches you in ways beyond material wealth.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-sec-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vector-aricraft\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/assets/images/aircraft_with_trail.png\",\n          alt: \"Aircraft\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/assets/images/aayalogo-big.png\",\n            alt: \"Aayo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-flex\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading\",\n            children: \"Verification Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"subheading\",\n            children: isRegistration ? \"You have registered successfully! Please verify your email/phone using the OTP we’ve sent to complete registration.\" : \"Please enter the OTP sent to your email or phone number to verify your account.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleVerify,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"verify-inputs\",\n              style: {\n                display: \"flex\",\n                gap: 8\n              },\n              children: otpValues.map((num, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"num\",\n                maxLength: \"1\",\n                inputMode: \"numeric\",\n                pattern: \"[0-9]*\",\n                value: num,\n                onChange: e => handleChange(index, e.target.value.trim()),\n                onKeyDown: e => handleKeyDown(e, index),\n                ref: el => inputRefs.current[index] = el,\n                required: true,\n                style: {\n                  width: 48,\n                  height: 48,\n                  textAlign: \"center\",\n                  fontSize: 18\n                }\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-link text-center\",\n              style: {\n                marginTop: 12\n              },\n              children: [\"Didn\\u2019t receive code?\", \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"resend-link btn btn-link p-0\",\n                onClick: handleResend,\n                disabled: resendLoading,\n                children: resendLoading ? \"Resending...\" : \"Resend code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-button\",\n              style: {\n                marginTop: 16\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                disabled: isLoading,\n                value: isLoading ? \"Verifying...\" : isRegistration ? \"Complete Registration\" : \"Verify\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s(OtpVerification, \"JS+xR3oSOJexHw49/mRuktZWGTs=\", false, function () {\n  return [useSearchParams, useNavigate, useLocation, useDispatch, useVerifyOtpMutation, useSendOtpMutation];\n});\n_c = OtpVerification;\nvar _c;\n$RefreshReg$(_c, \"OtpVerification\");","map":{"version":3,"names":["useSearchParams","useNavigate","useLocation","Link","useState","useRef","useEffect","useDispatch","useVerifyOtpMutation","useSendOtpMutation","loginSuccess","jsxDEV","_jsxDEV","OtpVerification","_s","_location$state","searchParams","navigate","location","dispatch","amount","state","email","get","undefined","phone","isRegistration","bookingParams","search","name","password","otpValues","setOtpValues","verifyOtp","isLoading","sendOtp","resendLoading","inputRefs","console","log","isFromBooking","includes","handleChange","index","value","test","newOtp","length","_inputRefs$current","current","focus","handleKeyDown","e","key","_inputRefs$current2","handleVerify","preventDefault","otp","join","alert","payload","res","unwrap","err","_err$data","data","message","handleResend","_inputRefs$current$","_err$data2","_inputRefs$current$2","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","href","onSubmit","style","display","gap","map","num","type","maxLength","inputMode","pattern","onChange","target","trim","onKeyDown","ref","el","required","width","height","textAlign","fontSize","marginTop","onClick","disabled","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend-user/src/components/pages/OtpVerification.jsx"],"sourcesContent":["import {\n  useSearchParams,\n  useNavigate,\n  useLocation,\n  Link,\n} from \"react-router-dom\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  useVerifyOtpMutation,\n  useSendOtpMutation,\n} from \"../../redux/api/authApi\";\nimport { loginSuccess } from \"../../redux/slices/authSlice\";\n\nexport default function OtpVerification() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n\n  const amount = location.state?.amount || 0;\n\n  // read email & phone reliably\n  const email = searchParams.get(\"email\") || undefined;\n  const phone = searchParams.get(\"phone\") || undefined;\n  const isRegistration = searchParams.get(\"isRegistration\") === \"true\";\n  const bookingParams = location.search || \"\";\n\n  const state = location.state || {};\n  const name = state.name || \"\";\n  const password = state.password || \"\";\n\n  const [otpValues, setOtpValues] = useState([\"\", \"\", \"\", \"\"]);\n  const [verifyOtp, { isLoading }] = useVerifyOtpMutation();\n  const [sendOtp, { isLoading: resendLoading }] = useSendOtpMutation();\n  const inputRefs = useRef([]);\n\n  // debug\n  useEffect(() => {\n    // helpful for debugging — remove in production\n    // eslint-disable-next-line no-console\n    console.log(\"OtpVerification: email, phone, isRegistration =>\", {\n      email,\n      phone,\n      isRegistration,\n    });\n  }, [email, phone, isRegistration]);\n\n  // Determine whether navigated from booking/enquiry (safe heuristics)\n  const isFromBooking =\n    bookingParams.includes(\"tripType\") ||\n    bookingParams.includes(\"date\") ||\n    bookingParams.includes(\"enquiry\");\n\n  // Move focus between OTP inputs\n  const handleChange = (index, value) => {\n    if (/^[0-9]?$/.test(value)) {\n      const newOtp = [...otpValues];\n      newOtp[index] = value;\n      setOtpValues(newOtp);\n      if (value && index < otpValues.length - 1) {\n        inputRefs.current[index + 1]?.focus();\n      }\n    }\n  };\n\n  const handleKeyDown = (e, index) => {\n    if (e.key === \"Backspace\" && !otpValues[index] && index > 0) {\n      inputRefs.current[index - 1]?.focus();\n    }\n  };\n\n  // Verify OTP\n  const handleVerify = async (e) => {\n    e.preventDefault();\n    const otp = otpValues.join(\"\");\n    if (otp.length < 4) {\n      alert(\"Please enter the 4-digit OTP\");\n      return;\n    }\n\n    try {\n      // send both email and phone (undefined if absent)\n      const payload = {\n        email: email || undefined,\n        phone: phone || undefined,\n        name: name || undefined,\n        password: password || undefined,\n        otp,\n        isRegistration,\n      };\n\n      // debug\n      // eslint-disable-next-line no-console\n      console.log(\"Verifying OTP with payload:\", payload);\n\n      const res = await verifyOtp(payload).unwrap();\n\n      // login success action expects same shape as before\n      dispatch(loginSuccess(res));\n      alert(\n        isRegistration\n          ? \"Registration completed successfully!\"\n          : \"OTP verified successfully!\"\n      );\n\n      // redirect to enquiry if this flow originated from booking\n      if (isFromBooking) {\n        navigate(`/enquiry${bookingParams}`, { state: { amount } });\n      } else {\n        navigate(`/`);\n      }\n    } catch (err) {\n      alert(err?.data?.message || \"Invalid OTP\");\n    }\n  };\n\n  // Resend OTP — builds the same query as original send call\n  const handleResend = async () => {\n    try {\n      await sendOtp({\n        email,\n        phone,\n        isRegistration,\n      }).unwrap();\n\n      alert(\"OTP resent successfully!\");\n      setOtpValues([\"\", \"\", \"\", \"\"]);\n      inputRefs.current[0]?.focus();\n    } catch (err) {\n      alert(err?.data?.message || \"Failed to resend OTP\");\n    }\n  };\n\n  useEffect(() => {\n    inputRefs.current[0]?.focus();\n  }, []);\n\n  return (\n    <div className=\"login-sec-container\">\n      {/* Left side info */}\n      <div className=\"login-sec-info\">\n        <h1>\n          Fly Beyond Limits <br /> with Aayo\n        </h1>\n        <p>\n          Travel is the only purchase that enriches you in ways beyond material\n          wealth.\n        </p>\n      </div>\n\n      {/* Right side form */}\n      <div className=\"login-sec-form\">\n        <div className=\"vector-aricraft\">\n          <img src=\"/assets/images/aircraft_with_trail.png\" alt=\"Aircraft\" />\n        </div>\n\n        <div className=\"logo\">\n          <a href=\"/\">\n            <img src=\"/assets/images/aayalogo-big.png\" alt=\"Aayo\" />\n          </a>\n        </div>\n\n        <div className=\"form-flex\">\n          <div className=\"form\">\n            <div className=\"heading\">Verification Code</div>\n            <div className=\"subheading\">\n              {isRegistration\n                ? \"You have registered successfully! Please verify your email/phone using the OTP we’ve sent to complete registration.\"\n                : \"Please enter the OTP sent to your email or phone number to verify your account.\"}\n            </div>\n\n            <form onSubmit={handleVerify}>\n              <div\n                className=\"verify-inputs\"\n                style={{ display: \"flex\", gap: 8 }}\n              >\n                {otpValues.map((num, index) => (\n                  <input\n                    key={index}\n                    type=\"text\"\n                    className=\"num\"\n                    maxLength=\"1\"\n                    inputMode=\"numeric\"\n                    pattern=\"[0-9]*\"\n                    value={num}\n                    onChange={(e) => handleChange(index, e.target.value.trim())}\n                    onKeyDown={(e) => handleKeyDown(e, index)}\n                    ref={(el) => (inputRefs.current[index] = el)}\n                    required\n                    style={{\n                      width: 48,\n                      height: 48,\n                      textAlign: \"center\",\n                      fontSize: 18,\n                    }}\n                  />\n                ))}\n              </div>\n\n              <div className=\"form-link text-center\" style={{ marginTop: 12 }}>\n                Didn’t receive code?{\" \"}\n                <button\n                  type=\"button\"\n                  className=\"resend-link btn btn-link p-0\"\n                  onClick={handleResend}\n                  disabled={resendLoading}\n                >\n                  {resendLoading ? \"Resending...\" : \"Resend code\"}\n                </button>\n              </div>\n\n              <div className=\"form-button\" style={{ marginTop: 16 }}>\n                <input\n                  type=\"submit\"\n                  disabled={isLoading}\n                  value={\n                    isLoading\n                      ? \"Verifying...\"\n                      : isRegistration\n                      ? \"Complete Registration\"\n                      : \"Verify\"\n                  }\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}