{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/PriceSettingList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport { useGetPriceSettingsQuery } from \"../../redux/api/priceSettingApi\";\nimport PriceSettingForm from \"./PriceSettingForm\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PriceSettingList = () => {\n  _s();\n  const {\n    data,\n    isLoading,\n    refetch\n  } = useGetPriceSettingsQuery();\n  const [showForm, setShowForm] = useState(false);\n  const [editingSetting, setEditingSetting] = useState(null);\n  const columns = [{\n    name: \"Head Name\",\n    selector: row => row.headName,\n    sortable: true\n  }, {\n    name: \"Type\",\n    selector: row => row.type,\n    sortable: true\n  }, {\n    name: \"Value\",\n    selector: row => row.type === \"fixed\" ? row.amount : `${row.percentage}%`\n  }, {\n    name: \"Dependent Heads\",\n    selector: row => {\n      var _row$dependentHeads;\n      return ((_row$dependentHeads = row.dependentHeads) === null || _row$dependentHeads === void 0 ? void 0 : _row$dependentHeads.map(d => d.headName).join(\", \")) || \"-\";\n    }\n  }, {\n    name: \"Actions\",\n    cell: row => /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: () => {\n        setEditingSetting(row);\n        setShowForm(true);\n      },\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this)\n  }];\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !showForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Price Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: () => {\n            setEditingSetting(null);\n            setShowForm(true);\n          },\n          children: \"Add New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n        columns: columns,\n        data: (data === null || data === void 0 ? void 0 : data.heads) || [],\n        pagination: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(PriceSettingForm, {\n      editingSetting: editingSetting,\n      setShowForm: setShowForm,\n      refetch: refetch // pass refetch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(PriceSettingList, \"hxFRnp2s4JjpLyK4vzCJsc1Gfl0=\", false, function () {\n  return [useGetPriceSettingsQuery];\n});\n_c = PriceSettingList;\nexport default PriceSettingList;\nvar _c;\n$RefreshReg$(_c, \"PriceSettingList\");","map":{"version":3,"names":["React","useState","DataTable","useGetPriceSettingsQuery","PriceSettingForm","jsxDEV","_jsxDEV","Fragment","_Fragment","PriceSettingList","_s","data","isLoading","refetch","showForm","setShowForm","editingSetting","setEditingSetting","columns","name","selector","row","headName","sortable","type","amount","percentage","_row$dependentHeads","dependentHeads","map","d","join","cell","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","heads","pagination","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/PriceSettingList.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport { useGetPriceSettingsQuery } from \"../../redux/api/priceSettingApi\";\nimport PriceSettingForm from \"./PriceSettingForm\";\n\nconst PriceSettingList = () => {\n  const { data, isLoading, refetch } = useGetPriceSettingsQuery();\n  const [showForm, setShowForm] = useState(false);\n  const [editingSetting, setEditingSetting] = useState(null);\n\n  const columns = [\n    { name: \"Head Name\", selector: (row) => row.headName, sortable: true },\n    { name: \"Type\", selector: (row) => row.type, sortable: true },\n    {\n      name: \"Value\",\n      selector: (row) =>\n        row.type === \"fixed\" ? row.amount : `${row.percentage}%`,\n    },\n    {\n      name: \"Dependent Heads\",\n      selector: (row) =>\n        row.dependentHeads?.map((d) => d.headName).join(\", \") || \"-\",\n    },\n    {\n      name: \"Actions\",\n      cell: (row) => (\n        <button\n          className=\"btn btn-sm btn-primary\"\n          onClick={() => {\n            setEditingSetting(row);\n            setShowForm(true);\n          }}\n        >\n          Edit\n        </button>\n      ),\n    },\n  ];\n\n  if (isLoading) return <p>Loading...</p>;\n\n  return (\n    <div>\n      {!showForm ? (\n        <>\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\n            <h4>Price Settings</h4>\n            <button\n              className=\"btn btn-success\"\n              onClick={() => {\n                setEditingSetting(null);\n                setShowForm(true);\n              }}\n            >\n              Add New\n            </button>\n          </div>\n\n          <DataTable columns={columns} data={data?.heads || []} pagination />\n        </>\n      ) : (\n        <PriceSettingForm\n          editingSetting={editingSetting}\n          setShowForm={setShowForm}\n          refetch={refetch} // pass refetch\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PriceSettingList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}