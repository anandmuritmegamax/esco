{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  user: null,\n  isAuthenticated: false,\n  loading: true\n};\nexport const userSlice = createSlice({\n  initialState,\n  name: \"userSlice\",\n  reducers: {\n    setUser(state, action) {\n      var _user$role, _user$role$permission;\n      const user = action.payload;\n      state.user = {\n        ...user,\n        permissions: (user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : (_user$role$permission = _user$role.permissions) === null || _user$role$permission === void 0 ? void 0 : _user$role$permission.map(p => p.action)) || []\n      };\n      state.isAuthenticated = true;\n      //state.user = action.payload;\n    },\n    setIsAuthenticated(state, action) {\n      state.isAuthenticated = action.payload;\n    },\n    setLoading(state, action) {\n      state.loading = action.payload;\n    },\n    clearUser(state) {\n      state.user = null;\n      state.isAuthenticated = false;\n    }\n  }\n});\nexport default userSlice.reducer;\nexport const {\n  setIsAuthenticated,\n  setUser,\n  setLoading,\n  clearUser\n} = userSlice.actions;","map":{"version":3,"names":["createSlice","initialState","user","isAuthenticated","loading","userSlice","name","reducers","setUser","state","action","_user$role","_user$role$permission","payload","permissions","role","map","p","setIsAuthenticated","setLoading","clearUser","reducer","actions"],"sources":["/var/www/aayoApp/frontend-user/src/redux/features/userSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    user: null,\n    isAuthenticated: false,\n    loading: true,\n}\nexport const userSlice = createSlice({\n    initialState,\n    name: \"userSlice\",\n    reducers: {\n        setUser(state, action) {\n            const user = action.payload;\n            state.user = {\n                ...user,\n                permissions: user?.role?.permissions?.map((p) => p.action) || [],\n            };\n            state.isAuthenticated = true;\n            //state.user = action.payload;\n        },\n        setIsAuthenticated(state, action) {\n            state.isAuthenticated = action.payload;\n        },\n        setLoading(state, action) {\n            state.loading = action.payload;\n        },\n        clearUser(state) {\n            state.user = null;\n            state.isAuthenticated = false;\n        },\n    }\n});\n\nexport default userSlice.reducer;\n\nexport const { setIsAuthenticated, setUser, setLoading, clearUser } = userSlice.actions"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE,IAAI;EACVC,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE;AACb,CAAC;AACD,OAAO,MAAMC,SAAS,GAAGL,WAAW,CAAC;EACjCC,YAAY;EACZK,IAAI,EAAE,WAAW;EACjBC,QAAQ,EAAE;IACNC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;MAAA,IAAAC,UAAA,EAAAC,qBAAA;MACnB,MAAMV,IAAI,GAAGQ,MAAM,CAACG,OAAO;MAC3BJ,KAAK,CAACP,IAAI,GAAG;QACT,GAAGA,IAAI;QACPY,WAAW,EAAE,CAAAZ,IAAI,aAAJA,IAAI,wBAAAS,UAAA,GAAJT,IAAI,CAAEa,IAAI,cAAAJ,UAAA,wBAAAC,qBAAA,GAAVD,UAAA,CAAYG,WAAW,cAAAF,qBAAA,uBAAvBA,qBAAA,CAAyBI,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACP,MAAM,CAAC,KAAI;MAClE,CAAC;MACDD,KAAK,CAACN,eAAe,GAAG,IAAI;MAC5B;IACJ,CAAC;IACDe,kBAAkBA,CAACT,KAAK,EAAEC,MAAM,EAAE;MAC9BD,KAAK,CAACN,eAAe,GAAGO,MAAM,CAACG,OAAO;IAC1C,CAAC;IACDM,UAAUA,CAACV,KAAK,EAAEC,MAAM,EAAE;MACtBD,KAAK,CAACL,OAAO,GAAGM,MAAM,CAACG,OAAO;IAClC,CAAC;IACDO,SAASA,CAACX,KAAK,EAAE;MACbA,KAAK,CAACP,IAAI,GAAG,IAAI;MACjBO,KAAK,CAACN,eAAe,GAAG,KAAK;IACjC;EACJ;AACJ,CAAC,CAAC;AAEF,eAAeE,SAAS,CAACgB,OAAO;AAEhC,OAAO,MAAM;EAAEH,kBAAkB;EAAEV,OAAO;EAAEW,UAAU;EAAEC;AAAU,CAAC,GAAGf,SAAS,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}