{"ast":null,"code":"// src/redux/api/pricingApi.js\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const pricingApi = createApi({\n  reducerPath: \"pricingApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"/api/v1\"\n  }),\n  tagTypes: [\"PricingPlan\"],\n  endpoints: builder => ({\n    getPlans: builder.query({\n      query: ({\n        q = \"\",\n        status = \"active\",\n        page = 1,\n        limit = 50\n      } = {}) => `/plans?q=${encodeURIComponent(q)}&status=${encodeURIComponent(status)}&page=${page}&limit=${limit}`,\n      providesTags: result => result !== null && result !== void 0 && result.plans ? [...result.plans.map(p => ({\n        type: \"PricingPlan\",\n        id: p._id\n      })), {\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }] : [{\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    }),\n    getAllPlansAdmin: builder.query({\n      query: () => `/plans/admin`,\n      providesTags: result => result !== null && result !== void 0 && result.plans ? [...result.plans.map(p => ({\n        type: \"PricingPlan\",\n        id: p._id\n      })), {\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }] : [{\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    }),\n    getPlan: builder.query({\n      query: id => `/plans/${id}`,\n      providesTags: (result, error, id) => [{\n        type: \"PricingPlan\",\n        id\n      }]\n    }),\n    createPlan: builder.mutation({\n      query: data => ({\n        url: \"/plans\",\n        method: \"POST\",\n        body: data\n      }),\n      invalidatesTags: [{\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    }),\n    updatePlan: builder.mutation({\n      query: ({\n        id,\n        data\n      }) => ({\n        url: `/plans/${id}`,\n        method: \"PUT\",\n        body: data\n      }),\n      invalidatesTags: (result, error, {\n        id\n      }) => [{\n        type: \"PricingPlan\",\n        id\n      }, {\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    }),\n    deletePlan: builder.mutation({\n      query: id => ({\n        url: `/plans/${id}`,\n        method: \"DELETE\"\n      }),\n      invalidatesTags: [{\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    }),\n    togglePlanStatus: builder.mutation({\n      query: id => ({\n        url: `/plans/${id}/toggle-status`,\n        method: \"POST\"\n      }),\n      invalidatesTags: [{\n        type: \"PricingPlan\",\n        id: \"LIST\"\n      }]\n    })\n  })\n});\nexport const {\n  useGetPlansQuery,\n  useGetAllPlansAdminQuery,\n  useGetPlanQuery,\n  useCreatePlanMutation,\n  useUpdatePlanMutation,\n  useDeletePlanMutation,\n  useTogglePlanStatusMutation\n} = pricingApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","pricingApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getPlans","query","q","status","page","limit","encodeURIComponent","providesTags","result","plans","map","p","type","id","_id","getAllPlansAdmin","getPlan","error","createPlan","mutation","data","url","method","body","invalidatesTags","updatePlan","deletePlan","togglePlanStatus","useGetPlansQuery","useGetAllPlansAdminQuery","useGetPlanQuery","useCreatePlanMutation","useUpdatePlanMutation","useDeletePlanMutation","useTogglePlanStatusMutation"],"sources":["/var/www/aayoS/frontend/src/redux/api/pricingApi.js"],"sourcesContent":["// src/redux/api/pricingApi.js\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const pricingApi = createApi({\n    reducerPath: \"pricingApi\",\n    baseQuery: fetchBaseQuery({ baseUrl: \"/api/v1\" }),\n    tagTypes: [\"PricingPlan\"],\n    endpoints: (builder) => ({\n        getPlans: builder.query({\n            query: ({ q = \"\", status = \"active\", page = 1, limit = 50 } = {}) =>\n                `/plans?q=${encodeURIComponent(q)}&status=${encodeURIComponent(status)}&page=${page}&limit=${limit}`,\n            providesTags: (result) =>\n                result?.plans ? [...result.plans.map((p) => ({ type: \"PricingPlan\", id: p._id })), { type: \"PricingPlan\", id: \"LIST\" }] : [{ type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n        getAllPlansAdmin: builder.query({\n            query: () => `/plans/admin`,\n            providesTags: (result) =>\n                result?.plans ? [...result.plans.map((p) => ({ type: \"PricingPlan\", id: p._id })), { type: \"PricingPlan\", id: \"LIST\" }] : [{ type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n        getPlan: builder.query({\n            query: (id) => `/plans/${id}`,\n            providesTags: (result, error, id) => [{ type: \"PricingPlan\", id }],\n        }),\n        createPlan: builder.mutation({\n            query: (data) => ({ url: \"/plans\", method: \"POST\", body: data }),\n            invalidatesTags: [{ type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n        updatePlan: builder.mutation({\n            query: ({ id, data }) => ({ url: `/plans/${id}`, method: \"PUT\", body: data }),\n            invalidatesTags: (result, error, { id }) => [{ type: \"PricingPlan\", id }, { type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n        deletePlan: builder.mutation({\n            query: (id) => ({ url: `/plans/${id}`, method: \"DELETE\" }),\n            invalidatesTags: [{ type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n        togglePlanStatus: builder.mutation({\n            query: (id) => ({ url: `/plans/${id}/toggle-status`, method: \"POST\" }),\n            invalidatesTags: [{ type: \"PricingPlan\", id: \"LIST\" }],\n        }),\n    }),\n});\n\nexport const {\n    useGetPlansQuery,\n    useGetAllPlansAdminQuery,\n    useGetPlanQuery,\n    useCreatePlanMutation,\n    useUpdatePlanMutation,\n    useDeletePlanMutation,\n    useTogglePlanStatusMutation,\n} = pricingApi;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}