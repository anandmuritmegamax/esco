{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/BookingHistoryModal.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useGetBookingHistoryQuery } from \"../../redux/api/bookingApi\";\nimport DataTable from \"react-data-table-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingHistoryModal = ({\n  booking,\n  onClose\n}) => {\n  _s();\n  var _booking$user;\n  const {\n    data,\n    isLoading\n  } = useGetBookingHistoryQuery(booking._id);\n  const histories = (data === null || data === void 0 ? void 0 : data.histories) || [];\n  const columns = [{\n    name: \"Change Type\",\n    selector: row => row.changeType,\n    sortable: true,\n    center: true\n  }, {\n    name: \"Updated By\",\n    selector: row => {\n      var _row$updatedBy;\n      return ((_row$updatedBy = row.updatedBy) === null || _row$updatedBy === void 0 ? void 0 : _row$updatedBy.name) || \"-\";\n    },\n    center: true\n  }, {\n    name: \"Date\",\n    selector: row => new Date(row.createdAt).toLocaleString(\"en-IN\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\"\n    }),\n    center: true\n  }, {\n    name: \"Old Data (JSON)\",\n    cell: row => BookingHistoryModal\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal fade show\",\n    style: {\n      display: \"block\",\n      backgroundColor: \"rgba(0,0,0,0.5)\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"modal-title\",\n            children: [\"Booking History \\u2014 \", (_booking$user = booking.user) === null || _booking$user === void 0 ? void 0 : _booking$user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: onClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(DataTable, {\n            columns: columns,\n            data: histories,\n            progressPending: isLoading,\n            pagination: true,\n            highlightOnHover: true,\n            striped: true,\n            noDataComponent: \"No history found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingHistoryModal, \"qa+c+RdttcsbA8s9JpFYK0ll8I8=\", false, function () {\n  return [useGetBookingHistoryQuery];\n});\n_c = BookingHistoryModal;\nexport default BookingHistoryModal;\nvar _c;\n$RefreshReg$(_c, \"BookingHistoryModal\");","map":{"version":3,"names":["React","useGetBookingHistoryQuery","DataTable","jsxDEV","_jsxDEV","BookingHistoryModal","booking","onClose","_s","_booking$user","data","isLoading","_id","histories","columns","name","selector","row","changeType","sortable","center","_row$updatedBy","updatedBy","Date","createdAt","toLocaleString","dateStyle","timeStyle","cell","className","style","display","backgroundColor","children","user","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","progressPending","pagination","highlightOnHover","striped","noDataComponent","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/BookingHistoryModal.jsx"],"sourcesContent":["import React from \"react\";\nimport { useGetBookingHistoryQuery } from \"../../redux/api/bookingApi\";\nimport DataTable from \"react-data-table-component\";\n\nconst BookingHistoryModal = ({ booking, onClose }) => {\n  const { data, isLoading } = useGetBookingHistoryQuery(booking._id);\n  const histories = data?.histories || [];\n\n  const columns = [\n    {\n      name: \"Change Type\",\n      selector: (row) => row.changeType,\n      sortable: true,\n      center: true,\n    },\n    {\n      name: \"Updated By\",\n      selector: (row) => row.updatedBy?.name || \"-\",\n      center: true,\n    },\n    {\n      name: \"Date\",\n      selector: (row) =>\n        new Date(row.createdAt).toLocaleString(\"en-IN\", {\n          dateStyle: \"medium\",\n          timeStyle: \"short\",\n        }),\n      center: true,\n    },\n    {\n      name: \"Old Data (JSON)\",\n      cell: (row) => BookingHistoryModal,\n    },\n  ];\n\n  return (\n    <div\n      className=\"modal fade show\"\n      style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\n    >\n      <div className=\"modal-dialog modal-xl\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              Booking History â€” {booking.user?.name}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"btn-close\"\n              onClick={onClose}\n            ></button>\n          </div>\n          <div className=\"modal-body\">\n            <DataTable\n              columns={columns}\n              data={histories}\n              progressPending={isLoading}\n              pagination\n              highlightOnHover\n              striped\n              noDataComponent=\"No history found\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookingHistoryModal;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,yBAAyB,QAAQ,4BAA4B;AACtE,OAAOC,SAAS,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,mBAAmB,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,aAAA;EACpD,MAAM;IAAEC,IAAI;IAAEC;EAAU,CAAC,GAAGV,yBAAyB,CAACK,OAAO,CAACM,GAAG,CAAC;EAClE,MAAMC,SAAS,GAAG,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,SAAS,KAAI,EAAE;EAEvC,MAAMC,OAAO,GAAG,CACd;IACEC,IAAI,EAAE,aAAa;IACnBC,QAAQ,EAAGC,GAAG,IAAKA,GAAG,CAACC,UAAU;IACjCC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAE;EACV,CAAC,EACD;IACEL,IAAI,EAAE,YAAY;IAClBC,QAAQ,EAAGC,GAAG;MAAA,IAAAI,cAAA;MAAA,OAAK,EAAAA,cAAA,GAAAJ,GAAG,CAACK,SAAS,cAAAD,cAAA,uBAAbA,cAAA,CAAeN,IAAI,KAAI,GAAG;IAAA;IAC7CK,MAAM,EAAE;EACV,CAAC,EACD;IACEL,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAGC,GAAG,IACZ,IAAIM,IAAI,CAACN,GAAG,CAACO,SAAS,CAAC,CAACC,cAAc,CAAC,OAAO,EAAE;MAC9CC,SAAS,EAAE,QAAQ;MACnBC,SAAS,EAAE;IACb,CAAC,CAAC;IACJP,MAAM,EAAE;EACV,CAAC,EACD;IACEL,IAAI,EAAE,iBAAiB;IACvBa,IAAI,EAAGX,GAAG,IAAKZ;EACjB,CAAC,CACF;EAED,oBACED,OAAA;IACEyB,SAAS,EAAC,iBAAiB;IAC3BC,KAAK,EAAE;MAAEC,OAAO,EAAE,OAAO;MAAEC,eAAe,EAAE;IAAkB,CAAE;IAAAC,QAAA,eAEhE7B,OAAA;MAAKyB,SAAS,EAAC,uBAAuB;MAAAI,QAAA,eACpC7B,OAAA;QAAKyB,SAAS,EAAC,eAAe;QAAAI,QAAA,gBAC5B7B,OAAA;UAAKyB,SAAS,EAAC,cAAc;UAAAI,QAAA,gBAC3B7B,OAAA;YAAIyB,SAAS,EAAC,aAAa;YAAAI,QAAA,GAAC,yBACR,GAAAxB,aAAA,GAACH,OAAO,CAAC4B,IAAI,cAAAzB,aAAA,uBAAZA,aAAA,CAAcM,IAAI;UAAA;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC,eACLlC,OAAA;YACEmC,IAAI,EAAC,QAAQ;YACbV,SAAS,EAAC,WAAW;YACrBW,OAAO,EAAEjC;UAAQ;YAAA4B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACP,CAAC,eACNlC,OAAA;UAAKyB,SAAS,EAAC,YAAY;UAAAI,QAAA,eACzB7B,OAAA,CAACF,SAAS;YACRY,OAAO,EAAEA,OAAQ;YACjBJ,IAAI,EAAEG,SAAU;YAChB4B,eAAe,EAAE9B,SAAU;YAC3B+B,UAAU;YACVC,gBAAgB;YAChBC,OAAO;YACPC,eAAe,EAAC;UAAkB;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9B,EAAA,CA/DIH,mBAAmB;EAAA,QACKJ,yBAAyB;AAAA;AAAA6C,EAAA,GADjDzC,mBAAmB;AAiEzB,eAAeA,mBAAmB;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}