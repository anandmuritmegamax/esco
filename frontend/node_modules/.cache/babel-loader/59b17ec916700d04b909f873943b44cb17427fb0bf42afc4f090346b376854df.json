{"ast":null,"code":"// redux/api/cloudinaryApi.js\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const cloudinaryApi = createApi({\n  reducerPath: \"cloudinaryApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"/api/v1\",\n    credentials: \"include\" // ⬅⬅⬅ CRITICAL: send cookies\n  }),\n  endpoints: builder => ({\n    getUploadSignature: builder.query({\n      query: folder => ({\n        url: `/cloudinary/signature?folder=${encodeURIComponent(folder)}`,\n        method: \"GET\",\n        credentials: \"include\" // ⬅ Ensure cookies sent\n      })\n    })\n  })\n});\nexport const {\n  useLazyGetUploadSignatureQuery\n} = cloudinaryApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","cloudinaryApi","reducerPath","baseQuery","baseUrl","credentials","endpoints","builder","getUploadSignature","query","folder","url","encodeURIComponent","method","useLazyGetUploadSignatureQuery"],"sources":["/var/www/aayoS/frontend/src/redux/api/cloudinaryApi.js"],"sourcesContent":["// redux/api/cloudinaryApi.js\nimport { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const cloudinaryApi = createApi({\n    reducerPath: \"cloudinaryApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: \"/api/v1\",\n        credentials: \"include\",    // ⬅⬅⬅ CRITICAL: send cookies\n    }),\n    endpoints: (builder) => ({\n        getUploadSignature: builder.query({\n            query: (folder) => ({\n                url: `/cloudinary/signature?folder=${encodeURIComponent(folder)}`,\n                method: \"GET\",\n                credentials: \"include\",   // ⬅ Ensure cookies sent\n            }),\n        }),\n    }),\n});\n\nexport const { useLazyGetUploadSignatureQuery } = cloudinaryApi;\n"],"mappings":"AAAA;AACA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAExE,OAAO,MAAMC,aAAa,GAAGF,SAAS,CAAC;EACnCG,WAAW,EAAE,eAAe;EAC5BC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAE,SAAS;IAClBC,WAAW,EAAE,SAAS,CAAK;EAC/B,CAAC,CAAC;EACFC,SAAS,EAAGC,OAAO,KAAM;IACrBC,kBAAkB,EAAED,OAAO,CAACE,KAAK,CAAC;MAC9BA,KAAK,EAAGC,MAAM,KAAM;QAChBC,GAAG,EAAE,gCAAgCC,kBAAkB,CAACF,MAAM,CAAC,EAAE;QACjEG,MAAM,EAAE,KAAK;QACbR,WAAW,EAAE,SAAS,CAAI;MAC9B,CAAC;IACL,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EAAES;AAA+B,CAAC,GAAGb,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}