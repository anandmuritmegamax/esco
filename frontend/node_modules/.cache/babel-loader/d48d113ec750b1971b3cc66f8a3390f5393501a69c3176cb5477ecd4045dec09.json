{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const pricingApi = createApi({\n  reducerPath: \"pricingApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"/api/v1\"\n  }),\n  tagTypes: [\"Plans\"],\n  endpoints: builder => ({\n    getPlans: builder.query({\n      query: params => {\n        const qs = new URLSearchParams(params || {}).toString();\n        return `/admin/plans?${qs}`;\n      },\n      providesTags: result => result !== null && result !== void 0 && result.plans ? [...result.plans.map(p => ({\n        type: \"Plans\",\n        id: p._id\n      })), {\n        type: \"Plans\",\n        id: \"LIST\"\n      }] : [{\n        type: \"Plans\",\n        id: \"LIST\"\n      }]\n    }),\n    getPlan: builder.query({\n      query: id => `/admin/plan/${id}`,\n      providesTags: (result, error, id) => [{\n        type: \"Plans\",\n        id\n      }]\n    }),\n    createPlan: builder.mutation({\n      query: body => ({\n        url: \"/admin/plans\",\n        method: \"POST\",\n        body\n      }),\n      invalidatesTags: [{\n        type: \"Plans\",\n        id: \"LIST\"\n      }]\n    }),\n    updatePlan: builder.mutation({\n      query: ({\n        id,\n        data\n      }) => ({\n        url: `/admin/plan/${id}`,\n        method: \"PUT\",\n        body: data\n      }),\n      invalidatesTags: (res, err, {\n        id\n      }) => [{\n        type: \"Plans\",\n        id\n      }, {\n        type: \"Plans\",\n        id: \"LIST\"\n      }]\n    }),\n    deletePlan: builder.mutation({\n      query: id => ({\n        url: `/admin/plan/${id}`,\n        method: \"DELETE\"\n      }),\n      invalidatesTags: [{\n        type: \"Plans\",\n        id: \"LIST\"\n      }]\n    })\n  })\n});\nexport const {\n  useGetPlansQuery,\n  useGetPlanQuery,\n  useCreatePlanMutation,\n  useUpdatePlanMutation,\n  useDeletePlanMutation\n} = pricingApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","pricingApi","reducerPath","baseQuery","baseUrl","tagTypes","endpoints","builder","getPlans","query","params","qs","URLSearchParams","toString","providesTags","result","plans","map","p","type","id","_id","getPlan","error","createPlan","mutation","body","url","method","invalidatesTags","updatePlan","data","res","err","deletePlan","useGetPlansQuery","useGetPlanQuery","useCreatePlanMutation","useUpdatePlanMutation","useDeletePlanMutation"],"sources":["/var/www/aayoS/frontend/src/redux/api/pricingApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nexport const pricingApi = createApi({\n    reducerPath: \"pricingApi\",\n    baseQuery: fetchBaseQuery({ baseUrl: \"/api/v1\" }),\n    tagTypes: [\"Plans\"],\n    endpoints: (builder) => ({\n        getPlans: builder.query({\n            query: (params) => {\n                const qs = new URLSearchParams(params || {}).toString();\n                return `/admin/plans?${qs}`;\n            },\n            providesTags: (result) =>\n                result?.plans\n                    ? [...result.plans.map((p) => ({ type: \"Plans\", id: p._id })), { type: \"Plans\", id: \"LIST\" }]\n                    : [{ type: \"Plans\", id: \"LIST\" }],\n        }),\n        getPlan: builder.query({\n            query: (id) => `/admin/plan/${id}`,\n            providesTags: (result, error, id) => [{ type: \"Plans\", id }],\n        }),\n        createPlan: builder.mutation({\n            query: (body) => ({ url: \"/admin/plans\", method: \"POST\", body }),\n            invalidatesTags: [{ type: \"Plans\", id: \"LIST\" }],\n        }),\n        updatePlan: builder.mutation({\n            query: ({ id, data }) => ({ url: `/admin/plan/${id}`, method: \"PUT\", body: data }),\n            invalidatesTags: (res, err, { id }) => [\n                { type: \"Plans\", id },\n                { type: \"Plans\", id: \"LIST\" },\n            ],\n        }),\n        deletePlan: builder.mutation({\n            query: (id) => ({ url: `/admin/plan/${id}`, method: \"DELETE\" }),\n            invalidatesTags: [{ type: \"Plans\", id: \"LIST\" }],\n        }),\n    }),\n});\n\nexport const {\n    useGetPlansQuery,\n    useGetPlanQuery,\n    useCreatePlanMutation,\n    useUpdatePlanMutation,\n    useDeletePlanMutation\n} = pricingApi;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAExE,OAAO,MAAMC,UAAU,GAAGF,SAAS,CAAC;EAChCG,WAAW,EAAE,YAAY;EACzBC,SAAS,EAAEH,cAAc,CAAC;IAAEI,OAAO,EAAE;EAAU,CAAC,CAAC;EACjDC,QAAQ,EAAE,CAAC,OAAO,CAAC;EACnBC,SAAS,EAAGC,OAAO,KAAM;IACrBC,QAAQ,EAAED,OAAO,CAACE,KAAK,CAAC;MACpBA,KAAK,EAAGC,MAAM,IAAK;QACf,MAAMC,EAAE,GAAG,IAAIC,eAAe,CAACF,MAAM,IAAI,CAAC,CAAC,CAAC,CAACG,QAAQ,CAAC,CAAC;QACvD,OAAO,gBAAgBF,EAAE,EAAE;MAC/B,CAAC;MACDG,YAAY,EAAGC,MAAM,IACjBA,MAAM,aAANA,MAAM,eAANA,MAAM,CAAEC,KAAK,GACP,CAAC,GAAGD,MAAM,CAACC,KAAK,CAACC,GAAG,CAAEC,CAAC,KAAM;QAAEC,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAEF,CAAC,CAACG;MAAI,CAAC,CAAC,CAAC,EAAE;QAAEF,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAO,CAAC,CAAC,GAC3F,CAAC;QAAED,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAO,CAAC;IAC5C,CAAC,CAAC;IACFE,OAAO,EAAEf,OAAO,CAACE,KAAK,CAAC;MACnBA,KAAK,EAAGW,EAAE,IAAK,eAAeA,EAAE,EAAE;MAClCN,YAAY,EAAEA,CAACC,MAAM,EAAEQ,KAAK,EAAEH,EAAE,KAAK,CAAC;QAAED,IAAI,EAAE,OAAO;QAAEC;MAAG,CAAC;IAC/D,CAAC,CAAC;IACFI,UAAU,EAAEjB,OAAO,CAACkB,QAAQ,CAAC;MACzBhB,KAAK,EAAGiB,IAAI,KAAM;QAAEC,GAAG,EAAE,cAAc;QAAEC,MAAM,EAAE,MAAM;QAAEF;MAAK,CAAC,CAAC;MAChEG,eAAe,EAAE,CAAC;QAAEV,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAO,CAAC;IACnD,CAAC,CAAC;IACFU,UAAU,EAAEvB,OAAO,CAACkB,QAAQ,CAAC;MACzBhB,KAAK,EAAEA,CAAC;QAAEW,EAAE;QAAEW;MAAK,CAAC,MAAM;QAAEJ,GAAG,EAAE,eAAeP,EAAE,EAAE;QAAEQ,MAAM,EAAE,KAAK;QAAEF,IAAI,EAAEK;MAAK,CAAC,CAAC;MAClFF,eAAe,EAAEA,CAACG,GAAG,EAAEC,GAAG,EAAE;QAAEb;MAAG,CAAC,KAAK,CACnC;QAAED,IAAI,EAAE,OAAO;QAAEC;MAAG,CAAC,EACrB;QAAED,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAO,CAAC;IAErC,CAAC,CAAC;IACFc,UAAU,EAAE3B,OAAO,CAACkB,QAAQ,CAAC;MACzBhB,KAAK,EAAGW,EAAE,KAAM;QAAEO,GAAG,EAAE,eAAeP,EAAE,EAAE;QAAEQ,MAAM,EAAE;MAAS,CAAC,CAAC;MAC/DC,eAAe,EAAE,CAAC;QAAEV,IAAI,EAAE,OAAO;QAAEC,EAAE,EAAE;MAAO,CAAC;IACnD,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTe,gBAAgB;EAChBC,eAAe;EACfC,qBAAqB;EACrBC,qBAAqB;EACrBC;AACJ,CAAC,GAAGtC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}