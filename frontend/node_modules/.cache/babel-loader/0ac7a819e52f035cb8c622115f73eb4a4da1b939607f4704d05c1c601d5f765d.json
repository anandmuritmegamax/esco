{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoS/frontend/src/components/models/ModelViewModal.jsx\",\n  _s = $RefreshSig$();\nimport { useDeletePortfolioImageMutation } from \"../../redux/api/modelApi\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModelViewModal = ({\n  model,\n  onClose\n}) => {\n  _s();\n  var _model$portfolioImage;\n  const [deleteImage] = useDeletePortfolioImageMutation();\n  const handleDelete = async public_id => {\n    if (!window.confirm(\"Delete this image?\")) return;\n    try {\n      await deleteImage({\n        id: model._id,\n        public_id\n      }).unwrap();\n      toast.success(\"Image deleted\");\n      onClose(); // close modal (optional)\n    } catch (err) {\n      var _err$data;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$data = err.data) === null || _err$data === void 0 ? void 0 : _err$data.message) || \"Delete failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show d-block\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"modal-title\",\n            children: model.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-close\",\n            onClick: onClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Portfolio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-wrap gap-3\",\n            children: (_model$portfolioImage = model.portfolioImages) === null || _model$portfolioImage === void 0 ? void 0 : _model$portfolioImage.map(img => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"relative\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: img.url,\n                style: {\n                  width: 140,\n                  height: 140,\n                  objectFit: \"cover\",\n                  borderRadius: 6\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-danger\",\n                style: {\n                  position: \"absolute\",\n                  top: 5,\n                  right: 5,\n                  padding: \"2px 6px\"\n                },\n                onClick: () => handleDelete(img.public_id),\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 19\n              }, this)]\n            }, img.public_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: onClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n};\n_s(ModelViewModal, \"i+cbCPpFgl2URyfxqr7HdluAGss=\", false, function () {\n  return [useDeletePortfolioImageMutation];\n});\n_c = ModelViewModal;\nexport default ModelViewModal;\nvar _c;\n$RefreshReg$(_c, \"ModelViewModal\");","map":{"version":3,"names":["useDeletePortfolioImageMutation","toast","jsxDEV","_jsxDEV","ModelViewModal","model","onClose","_s","_model$portfolioImage","deleteImage","handleDelete","public_id","window","confirm","id","_id","unwrap","success","err","_err$data","error","data","message","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","portfolioImages","map","img","style","position","src","url","width","height","objectFit","borderRadius","top","right","padding","_c","$RefreshReg$"],"sources":["/var/www/aayoS/frontend/src/components/models/ModelViewModal.jsx"],"sourcesContent":["import { useDeletePortfolioImageMutation } from \"../../redux/api/modelApi\";\nimport toast from \"react-hot-toast\";\n\nconst ModelViewModal = ({ model, onClose }) => {\n  const [deleteImage] = useDeletePortfolioImageMutation();\n\n  const handleDelete = async (public_id) => {\n    if (!window.confirm(\"Delete this image?\")) return;\n\n    try {\n      await deleteImage({ id: model._id, public_id }).unwrap();\n      toast.success(\"Image deleted\");\n      onClose(); // close modal (optional)\n    } catch (err) {\n      toast.error(err?.data?.message || \"Delete failed\");\n    }\n  };\n\n  return (\n    <div className=\"modal show d-block\">\n      <div className=\"modal-dialog modal-lg\">\n        <div className=\"modal-content\">\n          {/* header */}\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">{model.name}</h5>\n            <button className=\"btn-close\" onClick={onClose}></button>\n          </div>\n\n          {/* body */}\n          <div className=\"modal-body\">\n            <h6>Portfolio</h6>\n\n            <div className=\"d-flex flex-wrap gap-3\">\n              {model.portfolioImages?.map((img) => (\n                <div key={img.public_id} style={{ position: \"relative\" }}>\n                  <img\n                    src={img.url}\n                    style={{\n                      width: 140,\n                      height: 140,\n                      objectFit: \"cover\",\n                      borderRadius: 6,\n                    }}\n                  />\n\n                  {/* delete button */}\n                  <button\n                    className=\"btn btn-sm btn-danger\"\n                    style={{\n                      position: \"absolute\",\n                      top: 5,\n                      right: 5,\n                      padding: \"2px 6px\",\n                    }}\n                    onClick={() => handleDelete(img.public_id)}\n                  >\n                    âœ•\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          {/* footer */}\n          <div className=\"modal-footer\">\n            <button className=\"btn btn-secondary\" onClick={onClose}>\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default ModelViewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}