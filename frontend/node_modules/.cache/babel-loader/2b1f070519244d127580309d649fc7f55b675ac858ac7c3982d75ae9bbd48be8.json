{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/FlightForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useCreateFlightMutation, useUpdateFlightMutation } from \"../../redux/api/flightApi\";\nimport { useGetFlightTypesQuery } from \"../../redux/api/flightTypeApi\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FlightForm = ({\n  editingFlight,\n  onSuccess\n}) => {\n  _s();\n  var _flightTypes$flights;\n  const [form, setForm] = useState({\n    flightType: \"\",\n    from: \"\",\n    to: \"\",\n    date: \"\",\n    time: \"\"\n  });\n  const {\n    data: flightTypes\n  } = useGetFlightTypesQuery();\n  const [createFlight] = useCreateFlightMutation();\n  const [updateFlight] = useUpdateFlightMutation();\n  console.log(\"flights: \", flightTypes);\n  useEffect(() => {\n    if (editingFlight) {\n      setForm({\n        flightType: editingFlight.flightType._id,\n        from: editingFlight.from,\n        to: editingFlight.to,\n        date: editingFlight.date.split(\"T\")[0],\n        time: editingFlight.time\n      });\n    }\n  }, [editingFlight]);\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (editingFlight) {\n        await updateFlight({\n          id: editingFlight._id,\n          data: form\n        }).unwrap();\n        toast.success(\"Flight updated\");\n      } else {\n        await createFlight(form).unwrap();\n        toast.success(\"Flight created\");\n      }\n      onSuccess();\n    } catch (err) {\n      toast.error(\"Error saving flight\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"border p-3 rounded mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [editingFlight ? \"Edit\" : \"Add\", \" Flight\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"form-select mb-2\",\n      name: \"flightType\",\n      value: form.flightType,\n      onChange: handleChange,\n      required: true,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Flight Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), flightTypes === null || flightTypes === void 0 ? void 0 : (_flightTypes$flights = flightTypes.flights) === null || _flightTypes$flights === void 0 ? void 0 : _flightTypes$flights.map(f => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: f._id,\n        children: f.name\n      }, f._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"from\",\n      placeholder: \"From\",\n      className: \"form-control mb-2\",\n      value: form.from,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"to\",\n      placeholder: \"To\",\n      className: \"form-control mb-2\",\n      value: form.to,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"date\",\n      className: \"form-control mb-2\",\n      value: form.date,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"time\",\n      name: \"time\",\n      className: \"form-control mb-2\",\n      value: form.time,\n      onChange: handleChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      children: [editingFlight ? \"Update\" : \"Add\", \" Flight\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(FlightForm, \"ZNdNh8Q5K8X66W7HXu6rrm8PU+E=\", false, function () {\n  return [useGetFlightTypesQuery, useCreateFlightMutation, useUpdateFlightMutation];\n});\n_c = FlightForm;\nexport default FlightForm;\nvar _c;\n$RefreshReg$(_c, \"FlightForm\");","map":{"version":3,"names":["React","useEffect","useState","useCreateFlightMutation","useUpdateFlightMutation","useGetFlightTypesQuery","toast","jsxDEV","_jsxDEV","FlightForm","editingFlight","onSuccess","_s","_flightTypes$flights","form","setForm","flightType","from","to","date","time","data","flightTypes","createFlight","updateFlight","console","log","_id","split","handleChange","e","target","name","value","handleSubmit","preventDefault","id","unwrap","success","err","error","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","required","flights","map","f","type","placeholder","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/FlightForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  useCreateFlightMutation,\n  useUpdateFlightMutation,\n} from \"../../redux/api/flightApi\";\nimport { useGetFlightTypesQuery } from \"../../redux/api/flightTypeApi\";\nimport toast from \"react-hot-toast\";\n\nconst FlightForm = ({ editingFlight, onSuccess }) => {\n  const [form, setForm] = useState({\n    flightType: \"\",\n    from: \"\",\n    to: \"\",\n    date: \"\",\n    time: \"\",\n  });\n\n  const { data: flightTypes } = useGetFlightTypesQuery();\n  const [createFlight] = useCreateFlightMutation();\n  const [updateFlight] = useUpdateFlightMutation();\n  console.log(\"flights: \", flightTypes);\n  useEffect(() => {\n    if (editingFlight) {\n      setForm({\n        flightType: editingFlight.flightType._id,\n        from: editingFlight.from,\n        to: editingFlight.to,\n        date: editingFlight.date.split(\"T\")[0],\n        time: editingFlight.time,\n      });\n    }\n  }, [editingFlight]);\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingFlight) {\n        await updateFlight({ id: editingFlight._id, data: form }).unwrap();\n        toast.success(\"Flight updated\");\n      } else {\n        await createFlight(form).unwrap();\n        toast.success(\"Flight created\");\n      }\n      onSuccess();\n    } catch (err) {\n      toast.error(\"Error saving flight\");\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"border p-3 rounded mt-4\">\n      <h5>{editingFlight ? \"Edit\" : \"Add\"} Flight</h5>\n      <select\n        className=\"form-select mb-2\"\n        name=\"flightType\"\n        value={form.flightType}\n        onChange={handleChange}\n        required\n      >\n        <option value=\"\">Select Flight Type</option>\n        {flightTypes?.flights?.map((f) => (\n          <option key={f._id} value={f._id}>\n            {f.name}\n          </option>\n        ))}\n      </select>\n      <input\n        type=\"text\"\n        name=\"from\"\n        placeholder=\"From\"\n        className=\"form-control mb-2\"\n        value={form.from}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"text\"\n        name=\"to\"\n        placeholder=\"To\"\n        className=\"form-control mb-2\"\n        value={form.to}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"date\"\n        name=\"date\"\n        className=\"form-control mb-2\"\n        value={form.date}\n        onChange={handleChange}\n        required\n      />\n      <input\n        type=\"time\"\n        name=\"time\"\n        className=\"form-control mb-2\"\n        value={form.time}\n        onChange={handleChange}\n        required\n      />\n      <button className=\"btn btn-primary\" type=\"submit\">\n        {editingFlight ? \"Update\" : \"Add\"} Flight\n      </button>\n    </form>\n  );\n};\n\nexport default FlightForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}