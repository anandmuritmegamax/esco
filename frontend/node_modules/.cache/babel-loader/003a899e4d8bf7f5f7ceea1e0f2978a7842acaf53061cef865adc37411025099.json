{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoS/frontend/src/pages/admin/settings/FeatureSettings.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useGetFeatureSettingsQuery, useUpdateFeatureSettingsMutation } from \"../../../redux/api/settingsApi\";\nimport toast from \"react-hot-toast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FeatureSettings() {\n  _s();\n  const {\n    data\n  } = useGetFeatureSettingsQuery();\n  const [updateSettings, {\n    isLoading\n  }] = useUpdateFeatureSettingsMutation();\n  const [form, setForm] = useState({\n    \"features.reviewsEnabled\": true,\n    \"features.favoritesEnabled\": true,\n    \"features.commentsEnabled\": true,\n    \"features.verifiedBadgeEnabled\": true,\n    \"features.premiumBadgeEnabled\": true,\n    \"features.publicContactDetails\": true,\n    \"features.whatsappButton\": true,\n    \"features.telegramButton\": true\n  });\n  useEffect(() => {\n    if (data !== null && data !== void 0 && data.settings) {\n      setForm(prev => ({\n        ...prev,\n        ...data.settings\n      }));\n    }\n  }, [data]);\n  const handleChange = e => {\n    const {\n      name,\n      checked\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: checked\n    });\n  };\n  const save = async () => {\n    await updateSettings(form).unwrap();\n    toast.success(\"Feature toggles updated\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mb-4\",\n      children: \"Feature Toggles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), [[\"features.reviewsEnabled\", \"Reviews Enabled\"], [\"features.favoritesEnabled\", \"Favorites Enabled\"], [\"features.commentsEnabled\", \"Comments Enabled\"], [\"features.verifiedBadgeEnabled\", \"Verified Badge Enabled\"], [\"features.premiumBadgeEnabled\", \"Premium Badge Enabled\"], [\"features.publicContactDetails\", \"Public Contact Details\"], [\"features.whatsappButton\", \"WhatsApp Button\"], [\"features.telegramButton\", \"Telegram Button\"]].map(([key, label]) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-check mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        name: key,\n        checked: form[key],\n        onChange: handleChange,\n        className: \"form-check-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"form-check-label\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-dark mt-4\",\n      onClick: save,\n      disabled: isLoading,\n      children: \"Save Feature Settings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(FeatureSettings, \"6cL4o8vuwHjkC36X+lKfhpEw4Ek=\", false, function () {\n  return [useGetFeatureSettingsQuery, useUpdateFeatureSettingsMutation];\n});\n_c = FeatureSettings;\nvar _c;\n$RefreshReg$(_c, \"FeatureSettings\");","map":{"version":3,"names":["useEffect","useState","useGetFeatureSettingsQuery","useUpdateFeatureSettingsMutation","toast","jsxDEV","_jsxDEV","FeatureSettings","_s","data","updateSettings","isLoading","form","setForm","settings","prev","handleChange","e","name","checked","target","save","unwrap","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","key","label","type","onChange","onClick","disabled","_c","$RefreshReg$"],"sources":["/var/www/aayoS/frontend/src/pages/admin/settings/FeatureSettings.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  useGetFeatureSettingsQuery,\n  useUpdateFeatureSettingsMutation,\n} from \"../../../redux/api/settingsApi\";\nimport toast from \"react-hot-toast\";\n\nexport default function FeatureSettings() {\n  const { data } = useGetFeatureSettingsQuery();\n  const [updateSettings, { isLoading }] = useUpdateFeatureSettingsMutation();\n\n  const [form, setForm] = useState({\n    \"features.reviewsEnabled\": true,\n    \"features.favoritesEnabled\": true,\n    \"features.commentsEnabled\": true,\n    \"features.verifiedBadgeEnabled\": true,\n    \"features.premiumBadgeEnabled\": true,\n    \"features.publicContactDetails\": true,\n    \"features.whatsappButton\": true,\n    \"features.telegramButton\": true,\n  });\n\n  useEffect(() => {\n    if (data?.settings) {\n      setForm((prev) => ({ ...prev, ...data.settings }));\n    }\n  }, [data]);\n\n  const handleChange = (e) => {\n    const { name, checked } = e.target;\n    setForm({ ...form, [name]: checked });\n  };\n\n  const save = async () => {\n    await updateSettings(form).unwrap();\n    toast.success(\"Feature toggles updated\");\n  };\n\n  return (\n    <div className=\"card p-4\">\n      <h3 className=\"mb-4\">Feature Toggles</h3>\n\n      {[\n        [\"features.reviewsEnabled\", \"Reviews Enabled\"],\n        [\"features.favoritesEnabled\", \"Favorites Enabled\"],\n        [\"features.commentsEnabled\", \"Comments Enabled\"],\n        [\"features.verifiedBadgeEnabled\", \"Verified Badge Enabled\"],\n        [\"features.premiumBadgeEnabled\", \"Premium Badge Enabled\"],\n        [\"features.publicContactDetails\", \"Public Contact Details\"],\n        [\"features.whatsappButton\", \"WhatsApp Button\"],\n        [\"features.telegramButton\", \"Telegram Button\"],\n      ].map(([key, label]) => (\n        <div className=\"form-check mb-2\" key={key}>\n          <input\n            type=\"checkbox\"\n            name={key}\n            checked={form[key]}\n            onChange={handleChange}\n            className=\"form-check-input\"\n          />\n          <label className=\"form-check-label\">{label}</label>\n        </div>\n      ))}\n\n      <button className=\"btn btn-dark mt-4\" onClick={save} disabled={isLoading}>\n        Save Feature Settings\n      </button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}