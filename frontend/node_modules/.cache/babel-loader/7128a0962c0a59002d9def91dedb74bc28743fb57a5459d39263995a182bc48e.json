{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nconst baseQuery = fetchBaseQuery({\n  baseUrl: process.env.REACT_APP_API_URL,\n  prepareHeaders: (headers, {\n    getState\n  }) => {\n    const token = getState().auth.token;\n    if (token) {\n      headers.set(\"authorization\", `Bearer ${token}`);\n    }\n    return headers;\n  }\n});\nexport const authApi = createApi({\n  reducerPath: \"authApi\",\n  baseQuery,\n  endpoints: builder => ({\n    login: builder.mutation({\n      query: ({\n        identifier,\n        password\n      }) => ({\n        url: \"/login\",\n        method: \"POST\",\n        body: {\n          identifier,\n          password\n        }\n      })\n    }),\n    register: builder.mutation({\n      query: body => ({\n        url: \"/register\",\n        method: \"POST\",\n        body\n      })\n    }),\n    getProfile: builder.query({\n      query: () => \"/me\"\n    }),\n    logout: builder.query({\n      query: () => \"/logout\"\n    })\n  })\n});\nexport const {\n  useLoginMutation,\n  useGetProfileQuery\n} = authApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","baseQuery","baseUrl","process","env","REACT_APP_API_URL","prepareHeaders","headers","getState","token","auth","set","authApi","reducerPath","endpoints","builder","login","mutation","query","identifier","password","url","method","body","register","getProfile","logout","useLoginMutation","useGetProfileQuery"],"sources":["/var/www/aayoS/frontend/src/redux/api/authApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nconst baseQuery = fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_URL,\n    prepareHeaders: (headers, { getState }) => {\n        const token = getState().auth.token;\n        if (token) {\n            headers.set(\"authorization\", `Bearer ${token}`);\n        }\n        return headers;\n    },\n});\n\nexport const authApi = createApi({\n    reducerPath: \"authApi\",\n    baseQuery,\n    endpoints: (builder) => ({\n        login: builder.mutation({\n            query: ({ identifier, password }) => ({\n                url: \"/login\",\n                method: \"POST\",\n                body: { identifier, password },\n            }),\n        }),\n        register: builder.mutation({\n            query: (body) => ({\n                url: \"/register\",\n                method: \"POST\",\n                body,\n            }),\n        }),\n        getProfile: builder.query({\n            query: () => \"/me\",\n        }),\n        logout: builder.query({\n            query: () => \"/logout\",\n        }),\n\n    }),\n});\n\nexport const { useLoginMutation, useGetProfileQuery } = authApi;"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAExE,MAAMC,SAAS,GAAGD,cAAc,CAAC;EAC7BE,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACtCC,cAAc,EAAEA,CAACC,OAAO,EAAE;IAAEC;EAAS,CAAC,KAAK;IACvC,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC,CAACE,IAAI,CAACD,KAAK;IACnC,IAAIA,KAAK,EAAE;MACPF,OAAO,CAACI,GAAG,CAAC,eAAe,EAAE,UAAUF,KAAK,EAAE,CAAC;IACnD;IACA,OAAOF,OAAO;EAClB;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMK,OAAO,GAAGb,SAAS,CAAC;EAC7Bc,WAAW,EAAE,SAAS;EACtBZ,SAAS;EACTa,SAAS,EAAGC,OAAO,KAAM;IACrBC,KAAK,EAAED,OAAO,CAACE,QAAQ,CAAC;MACpBC,KAAK,EAAEA,CAAC;QAAEC,UAAU;QAAEC;MAAS,CAAC,MAAM;QAClCC,GAAG,EAAE,QAAQ;QACbC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UAAEJ,UAAU;UAAEC;QAAS;MACjC,CAAC;IACL,CAAC,CAAC;IACFI,QAAQ,EAAET,OAAO,CAACE,QAAQ,CAAC;MACvBC,KAAK,EAAGK,IAAI,KAAM;QACdF,GAAG,EAAE,WAAW;QAChBC,MAAM,EAAE,MAAM;QACdC;MACJ,CAAC;IACL,CAAC,CAAC;IACFE,UAAU,EAAEV,OAAO,CAACG,KAAK,CAAC;MACtBA,KAAK,EAAEA,CAAA,KAAM;IACjB,CAAC,CAAC;IACFQ,MAAM,EAAEX,OAAO,CAACG,KAAK,CAAC;MAClBA,KAAK,EAAEA,CAAA,KAAM;IACjB,CAAC;EAEL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EAAES,gBAAgB;EAAEC;AAAmB,CAAC,GAAGhB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}