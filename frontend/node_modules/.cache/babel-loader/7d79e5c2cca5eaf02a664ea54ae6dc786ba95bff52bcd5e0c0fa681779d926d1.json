{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nexport const leadApi = createApi({\n  reducerPath: \"leadApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"/api/v1\"\n  }),\n  endpoints: builder => ({\n    addLead: builder.mutation({\n      query: data => ({\n        url: \"/admin/leads\",\n        method: \"POST\",\n        body: data\n      })\n    }),\n    getLeads: builder.query({\n      query: params => ({\n        url: `/admin/leads`,\n        params\n      })\n    }),\n    getLeadById: builder.query({\n      query: id => `/admin/leads/${id}`\n    }),\n    getLeadRemarks: builder.query({\n      query: leadId => `/admin/lead/${leadId}/remarks`,\n      providesTags: (result, error, leadId) => [{\n        type: \"LeadRemarks\",\n        id: leadId\n      }]\n    }),\n    addLeadRemark: builder.mutation({\n      query: ({\n        leadId,\n        remark\n      }) => ({\n        url: `/admin/lead/${leadId}/remarks`,\n        method: \"POST\",\n        body: {\n          remark\n        }\n      }),\n      invalidatesTags: (result, error, {\n        leadId\n      }) => [{\n        type: \"LeadRemarks\",\n        id: leadId\n      }]\n    }),\n    // getRemarks: builder.query({\n    //     query: (leadId) => `/admin/leads/${leadId}/remarks`, // Adjust URL if needed\n    // }),\n    // addRemark: builder.mutation({\n    //     query: ({ id, message }) => ({\n    //         url: `/admin/leads/${id}/remark`,\n    //         method: \"POST\",\n    //         body: { message },\n    //     }),\n    // }),\n    closeLead: builder.mutation({\n      query: id => ({\n        url: `/admin/leads/${id}/close`,\n        method: \"PUT\"\n      })\n    }),\n    convertLead: builder.mutation({\n      query: ({\n        id,\n        data\n      }) => ({\n        url: `/admin/leads/${id}/convert`,\n        method: \"POST\",\n        body: data\n      })\n    })\n  })\n});\nexport const {\n  useGetLeadsQuery,\n  useGetLeadByIdQuery,\n  useAddRemarkMutation,\n  useCloseLeadMutation,\n  useConvertLeadMutation,\n  useAddLeadMutation,\n  useGetRemarksQuery\n} = leadApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","leadApi","reducerPath","baseQuery","baseUrl","endpoints","builder","addLead","mutation","query","data","url","method","body","getLeads","params","getLeadById","id","getLeadRemarks","leadId","providesTags","result","error","type","addLeadRemark","remark","invalidatesTags","closeLead","convertLead","useGetLeadsQuery","useGetLeadByIdQuery","useAddRemarkMutation","useCloseLeadMutation","useConvertLeadMutation","useAddLeadMutation","useGetRemarksQuery"],"sources":["/var/www/aayoApp/frontend/src/redux/api/leadApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\"\n\nexport const leadApi = createApi({\n    reducerPath: \"leadApi\",\n    baseQuery: fetchBaseQuery({\n        baseUrl: \"/api/v1\"\n    }),\n    endpoints: (builder) => ({\n        addLead: builder.mutation({\n            query: (data) => ({\n                url: \"/admin/leads\",\n                method: \"POST\",\n                body: data,\n            }),\n        }),\n        getLeads: builder.query({\n            query: (params) => ({\n                url: `/admin/leads`,\n                params,\n            }),\n        }),\n        getLeadById: builder.query({\n            query: (id) => `/admin/leads/${id}`,\n        }),\n        getLeadRemarks: builder.query({\n            query: (leadId) => `/admin/lead/${leadId}/remarks`,\n            providesTags: (result, error, leadId) => [{ type: \"LeadRemarks\", id: leadId }],\n        }),\n\n        addLeadRemark: builder.mutation({\n            query: ({ leadId, remark }) => ({\n                url: `/admin/lead/${leadId}/remarks`,\n                method: \"POST\",\n                body: { remark },\n            }),\n            invalidatesTags: (result, error, { leadId }) => [{ type: \"LeadRemarks\", id: leadId }],\n        }),\n        // getRemarks: builder.query({\n        //     query: (leadId) => `/admin/leads/${leadId}/remarks`, // Adjust URL if needed\n        // }),\n        // addRemark: builder.mutation({\n        //     query: ({ id, message }) => ({\n        //         url: `/admin/leads/${id}/remark`,\n        //         method: \"POST\",\n        //         body: { message },\n        //     }),\n        // }),\n        closeLead: builder.mutation({\n            query: (id) => ({\n                url: `/admin/leads/${id}/close`,\n                method: \"PUT\",\n            }),\n        }),\n        convertLead: builder.mutation({\n            query: ({ id, data }) => ({\n                url: `/admin/leads/${id}/convert`,\n                method: \"POST\",\n                body: data,\n            }),\n        }),\n    }),\n});\n\nexport const {\n    useGetLeadsQuery,\n    useGetLeadByIdQuery,\n    useAddRemarkMutation,\n    useCloseLeadMutation,\n    useConvertLeadMutation,\n    useAddLeadMutation,\n    useGetRemarksQuery,\n} = leadApi;\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,cAAc,QAAQ,8BAA8B;AAExE,OAAO,MAAMC,OAAO,GAAGF,SAAS,CAAC;EAC7BG,WAAW,EAAE,SAAS;EACtBC,SAAS,EAAEH,cAAc,CAAC;IACtBI,OAAO,EAAE;EACb,CAAC,CAAC;EACFC,SAAS,EAAGC,OAAO,KAAM;IACrBC,OAAO,EAAED,OAAO,CAACE,QAAQ,CAAC;MACtBC,KAAK,EAAGC,IAAI,KAAM;QACdC,GAAG,EAAE,cAAc;QACnBC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEH;MACV,CAAC;IACL,CAAC,CAAC;IACFI,QAAQ,EAAER,OAAO,CAACG,KAAK,CAAC;MACpBA,KAAK,EAAGM,MAAM,KAAM;QAChBJ,GAAG,EAAE,cAAc;QACnBI;MACJ,CAAC;IACL,CAAC,CAAC;IACFC,WAAW,EAAEV,OAAO,CAACG,KAAK,CAAC;MACvBA,KAAK,EAAGQ,EAAE,IAAK,gBAAgBA,EAAE;IACrC,CAAC,CAAC;IACFC,cAAc,EAAEZ,OAAO,CAACG,KAAK,CAAC;MAC1BA,KAAK,EAAGU,MAAM,IAAK,eAAeA,MAAM,UAAU;MAClDC,YAAY,EAAEA,CAACC,MAAM,EAAEC,KAAK,EAAEH,MAAM,KAAK,CAAC;QAAEI,IAAI,EAAE,aAAa;QAAEN,EAAE,EAAEE;MAAO,CAAC;IACjF,CAAC,CAAC;IAEFK,aAAa,EAAElB,OAAO,CAACE,QAAQ,CAAC;MAC5BC,KAAK,EAAEA,CAAC;QAAEU,MAAM;QAAEM;MAAO,CAAC,MAAM;QAC5Bd,GAAG,EAAE,eAAeQ,MAAM,UAAU;QACpCP,MAAM,EAAE,MAAM;QACdC,IAAI,EAAE;UAAEY;QAAO;MACnB,CAAC,CAAC;MACFC,eAAe,EAAEA,CAACL,MAAM,EAAEC,KAAK,EAAE;QAAEH;MAAO,CAAC,KAAK,CAAC;QAAEI,IAAI,EAAE,aAAa;QAAEN,EAAE,EAAEE;MAAO,CAAC;IACxF,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAQ,SAAS,EAAErB,OAAO,CAACE,QAAQ,CAAC;MACxBC,KAAK,EAAGQ,EAAE,KAAM;QACZN,GAAG,EAAE,gBAAgBM,EAAE,QAAQ;QAC/BL,MAAM,EAAE;MACZ,CAAC;IACL,CAAC,CAAC;IACFgB,WAAW,EAAEtB,OAAO,CAACE,QAAQ,CAAC;MAC1BC,KAAK,EAAEA,CAAC;QAAEQ,EAAE;QAAEP;MAAK,CAAC,MAAM;QACtBC,GAAG,EAAE,gBAAgBM,EAAE,UAAU;QACjCL,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEH;MACV,CAAC;IACL,CAAC;EACL,CAAC;AACL,CAAC,CAAC;AAEF,OAAO,MAAM;EACTmB,gBAAgB;EAChBC,mBAAmB;EACnBC,oBAAoB;EACpBC,oBAAoB;EACpBC,sBAAsB;EACtBC,kBAAkB;EAClBC;AACJ,CAAC,GAAGlC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}