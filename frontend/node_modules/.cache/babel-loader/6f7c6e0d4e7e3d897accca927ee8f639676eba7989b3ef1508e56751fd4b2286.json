{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/ConvertToBookingModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useConvertLeadMutation } from \"../../redux/api/leadApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConvertToBookingModal = ({\n  lead,\n  onClose,\n  refetch\n}) => {\n  _s();\n  var _lead$travelDate;\n  const [form, setForm] = useState({\n    amount: \"\",\n    travelDate: (_lead$travelDate = lead.travelDate) === null || _lead$travelDate === void 0 ? void 0 : _lead$travelDate.split(\"T\")[0],\n    travelTime: lead.travelTime,\n    remark: \"\",\n    flightType: \"\"\n  });\n  const [convertLead, {\n    isLoading\n  }] = useConvertLeadMutation();\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSubmit = async () => {\n    const {\n      amount,\n      travelDate,\n      travelTime,\n      remark,\n      flightType\n    } = form;\n    if (!amount || !travelDate || !travelTime || !flightType || !remark) {\n      toast.error(\"All fields are required\");\n      return;\n    }\n    try {\n      await convertLead({\n        id: lead._id,\n        data: {\n          amount,\n          travelDate,\n          travelTime,\n          remark,\n          flightType\n        }\n      }).unwrap();\n      toast.success(\"Lead converted to booking successfully\");\n      onClose();\n      refetch();\n    } catch (err) {\n      toast.error(\"Failed to convert lead\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show d-block\",\n    tabIndex: \"-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Convert Lead to Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-close\",\n            onClick: onClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              placeholder: \"Amount (INR)\",\n              name: \"amount\",\n              value: form.amount,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"date\",\n              name: \"travelDate\",\n              value: form.travelDate,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"time\",\n              name: \"travelTime\",\n              value: form.travelTime,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-select\",\n              name: \"flightType\",\n              value: form.flightType,\n              onChange: handleChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Flight Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"One Way\",\n                children: \"One Way\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Round Trip\",\n                children: \"Round Trip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              rows: \"3\",\n              placeholder: \"Write an update for the lead\",\n              name: \"remark\",\n              value: form.remark,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: handleSubmit,\n            disabled: isLoading,\n            children: \"Convert\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(ConvertToBookingModal, \"/dVuY3miAx5y98YMbtMoxy+ZTII=\", false, function () {\n  return [useConvertLeadMutation];\n});\n_c = ConvertToBookingModal;\nexport default ConvertToBookingModal;\nvar _c;\n$RefreshReg$(_c, \"ConvertToBookingModal\");","map":{"version":3,"names":["React","useState","toast","useConvertLeadMutation","jsxDEV","_jsxDEV","ConvertToBookingModal","lead","onClose","refetch","_s","_lead$travelDate","form","setForm","amount","travelDate","split","travelTime","remark","flightType","convertLead","isLoading","handleChange","e","target","name","value","handleSubmit","error","id","_id","data","unwrap","success","err","className","tabIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","onChange","type","rows","disabled","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/ConvertToBookingModal.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useConvertLeadMutation } from \"../../redux/api/leadApi\";\n\nconst ConvertToBookingModal = ({ lead, onClose, refetch }) => {\n  const [form, setForm] = useState({\n    amount: \"\",\n    travelDate: lead.travelDate?.split(\"T\")[0],\n    travelTime: lead.travelTime,\n    remark: \"\",\n    flightType: \"\",\n  });\n\n  const [convertLead, { isLoading }] = useConvertLeadMutation();\n\n  const handleChange = (e) =>\n    setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async () => {\n    const { amount, travelDate, travelTime, remark, flightType } = form;\n    if (!amount || !travelDate || !travelTime || !flightType || !remark) {\n      toast.error(\"All fields are required\");\n      return;\n    }\n\n    try {\n      await convertLead({\n        id: lead._id,\n        data: { amount, travelDate, travelTime, remark, flightType },\n      }).unwrap();\n      toast.success(\"Lead converted to booking successfully\");\n      onClose();\n      refetch();\n    } catch (err) {\n      toast.error(\"Failed to convert lead\");\n    }\n  };\n\n  return (\n    <div className=\"modal show d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog modal-lg\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5>Convert Lead to Booking</h5>\n            <button className=\"btn-close\" onClick={onClose}></button>\n          </div>\n          <div className=\"modal-body row\">\n            <div className=\"col-md-4 mb-2\">\n              <input\n                className=\"form-control\"\n                placeholder=\"Amount (INR)\"\n                name=\"amount\"\n                value={form.amount}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"col-md-4 mb-2\">\n              <input\n                className=\"form-control\"\n                type=\"date\"\n                name=\"travelDate\"\n                value={form.travelDate}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"col-md-4 mb-2\">\n              <input\n                className=\"form-control\"\n                type=\"time\"\n                name=\"travelTime\"\n                value={form.travelTime}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"col-md-6 mb-2\">\n              <select\n                className=\"form-select\"\n                name=\"flightType\"\n                value={form.flightType}\n                onChange={handleChange}\n              >\n                <option value=\"\">Select Flight Type</option>\n                <option value=\"One Way\">One Way</option>\n                <option value=\"Round Trip\">Round Trip</option>\n              </select>\n            </div>\n            <div className=\"col-md-12 mb-2\">\n              <textarea\n                className=\"form-control\"\n                rows=\"3\"\n                placeholder=\"Write an update for the lead\"\n                name=\"remark\"\n                value={form.remark}\n                onChange={handleChange}\n              ></textarea>\n            </div>\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-primary\"\n              onClick={handleSubmit}\n              disabled={isLoading}\n            >\n              Convert\n            </button>\n            <button className=\"btn btn-secondary\" onClick={onClose}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConvertToBookingModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}