{"ast":null,"code":"var _jsxFileName = \"/var/www/aayoApp/frontend/src/components/admin/BookingHistoryModal.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useGetBookingHistoryQuery } from \"../../redux/api/bookingApi\";\nimport DataTable from \"react-data-table-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingHistoryModal = ({\n  booking,\n  onClose\n}) => {\n  _s();\n  var _booking$user;\n  const {\n    data,\n    isLoading\n  } = useGetBookingHistoryQuery(booking._id);\n  const histories = (data === null || data === void 0 ? void 0 : data.histories) || [];\n  const columns = [{\n    name: \"Change Type\",\n    selector: row => row.changeType,\n    sortable: true,\n    center: true\n  }, {\n    name: \"Updated By\",\n    selector: row => {\n      var _row$updatedBy;\n      return ((_row$updatedBy = row.updatedBy) === null || _row$updatedBy === void 0 ? void 0 : _row$updatedBy.name) || \"-\";\n    },\n    center: true\n  }, {\n    name: \"Date\",\n    selector: row => new Date(row.createdAt).toLocaleString(\"en-IN\", {\n      dateStyle: \"medium\",\n      timeStyle: \"short\"\n    }),\n    center: true\n  }, {\n    name: \"Old Data (JSON)\",\n    cell: row => /*#__PURE__*/_jsxDEV(\"pre\", {\n      style: {\n        background: \"#f8f9fa\",\n        padding: \"8px\",\n        borderRadius: \"8px\",\n        maxWidth: \"350px\",\n        overflow: \"auto\",\n        fontSize: \"12px\"\n      },\n      children: JSON.stringify(row.oldData, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal fade show\",\n    style: {\n      display: \"block\",\n      backgroundColor: \"rgba(0,0,0,0.5)\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"modal-title\",\n            children: [\"Booking History \\u2014 \", (_booking$user = booking.user) === null || _booking$user === void 0 ? void 0 : _booking$user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: onClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(DataTable, {\n            columns: columns,\n            data: histories,\n            progressPending: isLoading,\n            pagination: true,\n            highlightOnHover: true,\n            striped: true,\n            noDataComponent: \"No history found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingHistoryModal, \"qa+c+RdttcsbA8s9JpFYK0ll8I8=\", false, function () {\n  return [useGetBookingHistoryQuery];\n});\n_c = BookingHistoryModal;\nexport default BookingHistoryModal;\nvar _c;\n$RefreshReg$(_c, \"BookingHistoryModal\");","map":{"version":3,"names":["React","useGetBookingHistoryQuery","DataTable","jsxDEV","_jsxDEV","BookingHistoryModal","booking","onClose","_s","_booking$user","data","isLoading","_id","histories","columns","name","selector","row","changeType","sortable","center","_row$updatedBy","updatedBy","Date","createdAt","toLocaleString","dateStyle","timeStyle","cell","style","background","padding","borderRadius","maxWidth","overflow","fontSize","children","JSON","stringify","oldData","fileName","_jsxFileName","lineNumber","columnNumber","className","display","backgroundColor","user","type","onClick","progressPending","pagination","highlightOnHover","striped","noDataComponent","_c","$RefreshReg$"],"sources":["/var/www/aayoApp/frontend/src/components/admin/BookingHistoryModal.jsx"],"sourcesContent":["import React from \"react\";\nimport { useGetBookingHistoryQuery } from \"../../redux/api/bookingApi\";\nimport DataTable from \"react-data-table-component\";\n\nconst BookingHistoryModal = ({ booking, onClose }) => {\n  const { data, isLoading } = useGetBookingHistoryQuery(booking._id);\n  const histories = data?.histories || [];\n\n  const columns = [\n    {\n      name: \"Change Type\",\n      selector: (row) => row.changeType,\n      sortable: true,\n      center: true,\n    },\n    {\n      name: \"Updated By\",\n      selector: (row) => row.updatedBy?.name || \"-\",\n      center: true,\n    },\n    {\n      name: \"Date\",\n      selector: (row) =>\n        new Date(row.createdAt).toLocaleString(\"en-IN\", {\n          dateStyle: \"medium\",\n          timeStyle: \"short\",\n        }),\n      center: true,\n    },\n    {\n      name: \"Old Data (JSON)\",\n      cell: (row) => (\n        <pre\n          style={{\n            background: \"#f8f9fa\",\n            padding: \"8px\",\n            borderRadius: \"8px\",\n            maxWidth: \"350px\",\n            overflow: \"auto\",\n            fontSize: \"12px\",\n          }}\n        >\n          {JSON.stringify(row.oldData, null, 2)}\n        </pre>\n      ),\n    },\n  ];\n\n  return (\n    <div\n      className=\"modal fade show\"\n      style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\n    >\n      <div className=\"modal-dialog modal-xl\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              Booking History â€” {booking.user?.name}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"btn-close\"\n              onClick={onClose}\n            ></button>\n          </div>\n          <div className=\"modal-body\">\n            <DataTable\n              columns={columns}\n              data={histories}\n              progressPending={isLoading}\n              pagination\n              highlightOnHover\n              striped\n              noDataComponent=\"No history found\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookingHistoryModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}