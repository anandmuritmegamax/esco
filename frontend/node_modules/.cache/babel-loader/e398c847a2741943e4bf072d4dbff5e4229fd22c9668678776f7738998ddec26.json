{"ast":null,"code":"import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\nconst baseQueryWithAuth = fetchBaseQuery({\n  baseUrl: \"/api/v1\",\n  prepareHeaders: headers => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      headers.set(\"authorization\", `Bearer ${token}`);\n    }\n    return headers;\n  }\n});\nexport const agencyApi = createApi({\n  reducerPath: \"agencyApi\",\n  baseQuery: baseQueryWithAuth,\n  tagTypes: [\"Agency\", \"Model\", \"Booking\", \"Earning\"],\n  endpoints: builder => ({\n    /* ================= ADMIN LIST ================= */\n    getAgenciesAdmin: builder.query({\n      query: () => \"/admin/agencies\",\n      providesTags: [\"Agency\"]\n    }),\n    /* ================= PENDING ONLY ================= */\n    getPendingAgencies: builder.query({\n      query: () => \"/admin/agencies/pending\",\n      providesTags: [\"Agency\"]\n    }),\n    /* ================= CREATE ================= */\n    createAgency: builder.mutation({\n      query: body => ({\n        url: \"/admin/agencies\",\n        method: \"POST\",\n        body\n      }),\n      invalidatesTags: [\"Agency\"]\n    }),\n    /* ================= UPDATE ================= */\n    updateAgency: builder.mutation({\n      query: ({\n        id,\n        ...body\n      }) => ({\n        url: `/admin/agencies/${id}`,\n        method: \"PUT\",\n        body\n      }),\n      invalidatesTags: [\"Agency\"]\n    }),\n    /* ================= STATUS ================= */\n    updateAgencyStatus: builder.mutation({\n      query: ({\n        id,\n        status\n      }) => ({\n        url: `/admin/agencies/${id}/status`,\n        method: \"PUT\",\n        body: {\n          status\n        }\n      }),\n      invalidatesTags: [\"Agency\"]\n    }),\n    /* ================= DELETE ================= */\n    deleteAgency: builder.mutation({\n      query: id => ({\n        url: `/admin/agencies/${id}`,\n        method: \"DELETE\"\n      }),\n      invalidatesTags: [\"Agency\"]\n    }),\n    /* ================= AGENCY DASHBOARD ================= */\n    getAgencyDashboard: builder.query({\n      query: () => \"/agency/dashboard\",\n      providesTags: [\"Agency\"]\n    }),\n    /* ================= AGENCY PROFILE ================= */\n    getAgencyProfile: builder.query({\n      query: () => \"/agency/profile\",\n      providesTags: [\"Agency\"]\n    }),\n    updateAgencyProfile: builder.mutation({\n      query: body => ({\n        url: \"/agency/profile\",\n        method: \"PUT\",\n        body\n      }),\n      invalidatesTags: [\"Agency\"]\n    }),\n    /* ================= AGENCY MODELS ================= */\n    getAgencyModels: builder.query({\n      query: () => \"/agency/models\",\n      providesTags: [\"Model\"]\n    }),\n    /* ================= ADD MODEL ================= */\n    addModel: builder.mutation({\n      query: body => ({\n        url: \"/agency/models\",\n        method: \"POST\",\n        body\n      }),\n      invalidatesTags: [\"Model\"]\n    }),\n    /* ================= AGENCY BOOKINGS ================= */\n    getAgencyBookings: builder.query({\n      query: () => \"/agency/bookings\",\n      providesTags: [\"Booking\"]\n    }),\n    /* ================= AGENCY EARNINGS ================= */\n    getAgencyEarnings: builder.query({\n      query: () => \"/agency/earnings\",\n      providesTags: [\"Earning\"]\n    })\n  })\n});\nexport const {\n  useGetAgenciesAdminQuery,\n  useGetPendingAgenciesQuery,\n  useCreateAgencyMutation,\n  useUpdateAgencyMutation,\n  useUpdateAgencyStatusMutation,\n  useDeleteAgencyMutation,\n  useGetAgencyDashboardQuery,\n  useGetAgencyProfileQuery,\n  useUpdateAgencyProfileMutation,\n  useGetAgencyModelsQuery,\n  useAddModelMutation,\n  useGetAgencyBookingsQuery,\n  useGetAgencyEarningsQuery\n} = agencyApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","baseQueryWithAuth","baseUrl","prepareHeaders","headers","token","localStorage","getItem","set","agencyApi","reducerPath","baseQuery","tagTypes","endpoints","builder","getAgenciesAdmin","query","providesTags","getPendingAgencies","createAgency","mutation","body","url","method","invalidatesTags","updateAgency","id","updateAgencyStatus","status","deleteAgency","getAgencyDashboard","getAgencyProfile","updateAgencyProfile","getAgencyModels","addModel","getAgencyBookings","getAgencyEarnings","useGetAgenciesAdminQuery","useGetPendingAgenciesQuery","useCreateAgencyMutation","useUpdateAgencyMutation","useUpdateAgencyStatusMutation","useDeleteAgencyMutation","useGetAgencyDashboardQuery","useGetAgencyProfileQuery","useUpdateAgencyProfileMutation","useGetAgencyModelsQuery","useAddModelMutation","useGetAgencyBookingsQuery","useGetAgencyEarningsQuery"],"sources":["/var/www/aayoS/frontend/src/redux/api/agencyApi.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\nconst baseQueryWithAuth = fetchBaseQuery({\n    baseUrl: \"/api/v1\",\n    prepareHeaders: (headers) => {\n        const token = localStorage.getItem(\"token\");\n\n        if (token) {\n            headers.set(\"authorization\", `Bearer ${token}`);\n        }\n\n        return headers;\n    },\n});\n\nexport const agencyApi = createApi({\n    reducerPath: \"agencyApi\",\n    baseQuery: baseQueryWithAuth,\n    tagTypes: [\"Agency\", \"Model\", \"Booking\", \"Earning\"],\n    endpoints: (builder) => ({\n        /* ================= ADMIN LIST ================= */\n        getAgenciesAdmin: builder.query({\n            query: () => \"/admin/agencies\",\n            providesTags: [\"Agency\"],\n        }),\n\n        /* ================= PENDING ONLY ================= */\n        getPendingAgencies: builder.query({\n            query: () => \"/admin/agencies/pending\",\n            providesTags: [\"Agency\"],\n        }),\n\n        /* ================= CREATE ================= */\n        createAgency: builder.mutation({\n            query: (body) => ({\n                url: \"/admin/agencies\",\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: [\"Agency\"],\n        }),\n\n        /* ================= UPDATE ================= */\n        updateAgency: builder.mutation({\n            query: ({ id, ...body }) => ({\n                url: `/admin/agencies/${id}`,\n                method: \"PUT\",\n                body,\n            }),\n            invalidatesTags: [\"Agency\"],\n        }),\n\n        /* ================= STATUS ================= */\n        updateAgencyStatus: builder.mutation({\n            query: ({ id, status }) => ({\n                url: `/admin/agencies/${id}/status`,\n                method: \"PUT\",\n                body: { status },\n            }),\n            invalidatesTags: [\"Agency\"],\n        }),\n\n        /* ================= DELETE ================= */\n        deleteAgency: builder.mutation({\n            query: (id) => ({\n                url: `/admin/agencies/${id}`,\n                method: \"DELETE\",\n            }),\n            invalidatesTags: [\"Agency\"],\n        }),\n\n        /* ================= AGENCY DASHBOARD ================= */\n        getAgencyDashboard: builder.query({\n            query: () => \"/agency/dashboard\",\n            providesTags: [\"Agency\"],\n        }),\n\n        /* ================= AGENCY PROFILE ================= */\n        getAgencyProfile: builder.query({\n            query: () => \"/agency/profile\",\n            providesTags: [\"Agency\"],\n        }),\n\n        updateAgencyProfile: builder.mutation({\n            query: (body) => ({\n                url: \"/agency/profile\",\n                method: \"PUT\",\n                body,\n            }),\n            invalidatesTags: [\"Agency\"],\n        }),\n\n        /* ================= AGENCY MODELS ================= */\n        getAgencyModels: builder.query({\n            query: () => \"/agency/models\",\n            providesTags: [\"Model\"],\n        }),\n\n        /* ================= ADD MODEL ================= */\n        addModel: builder.mutation({\n            query: (body) => ({\n                url: \"/agency/models\",\n                method: \"POST\",\n                body,\n            }),\n            invalidatesTags: [\"Model\"],\n        }),\n\n        /* ================= AGENCY BOOKINGS ================= */\n        getAgencyBookings: builder.query({\n            query: () => \"/agency/bookings\",\n            providesTags: [\"Booking\"],\n        }),\n\n        /* ================= AGENCY EARNINGS ================= */\n        getAgencyEarnings: builder.query({\n            query: () => \"/agency/earnings\",\n            providesTags: [\"Earning\"],\n        }),\n    }),\n});\n\nexport const {\n    useGetAgenciesAdminQuery,\n    useGetPendingAgenciesQuery,\n    useCreateAgencyMutation,\n    useUpdateAgencyMutation,\n    useUpdateAgencyStatusMutation,\n    useDeleteAgencyMutation,\n    useGetAgencyDashboardQuery,\n    useGetAgencyProfileQuery,\n    useUpdateAgencyProfileMutation,\n    useGetAgencyModelsQuery,\n    useAddModelMutation,\n    useGetAgencyBookingsQuery,\n    useGetAgencyEarningsQuery,\n} = agencyApi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}